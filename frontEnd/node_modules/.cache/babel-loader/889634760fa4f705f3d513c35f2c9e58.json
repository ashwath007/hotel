{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Shaji Project\\\\frontEnd\\\\src\\\\user\\\\Signup.js\";\nimport React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { signup } from \"../auth/helper\";\nimport { v4 as uuidv4 } from 'uuid';\nimport UserBase from \"./UserBase\";\nimport Map from \"mapmyindia-react\";\nimport \"./UserBase.css\";\n\nconst Signup = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    phone: \"\",\n    error: \"\",\n    uid: \"\",\n    location: \"\",\n    isRedirect: false,\n    userAlready: false,\n    success: false,\n    loading: false\n  });\n\n  const onLoadMap = () => {\n    return /*#__PURE__*/React.createElement(Map, {\n      markers: [{\n        position: [18.5314, 73.845],\n        draggable: true,\n        title: \"Marker title\",\n        onClick: e => {\n          console.log(\"clicked \");\n        },\n        onDragend: e => {\n          console.log(\"dragged\");\n        }\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 18\n      }\n    });\n  };\n\n  const [code, setcode] = useState(\"\");\n  const {\n    name,\n    phone,\n    error,\n    success,\n    loading,\n    location,\n    isRedirect,\n    uid,\n    userAlready\n  } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n\n  const onRedirected = () => {\n    if (isRedirect) {\n      const Path = \"/verification/\" + uid;\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: Path,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 20\n        }\n      });\n    }\n  };\n\n  const alredyAUser = () => {\n    if (userAlready) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 20\n        }\n      });\n    }\n  };\n\n  const onSubmit = event => {\n    const CODE = uuidv4().substr(1, 4);\n    setcode(CODE);\n    console.log(\"CODE : \", code);\n    event.preventDefault();\n    setValues({ ...values,\n      error: false,\n      code: CODE\n    });\n    signup({\n      name,\n      phone,\n      code\n    }).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error,\n          success: false\n        });\n      } else {\n        console.log(data);\n\n        if (data.userAlready) {\n          setValues({ ...values,\n            userAlready: true\n          });\n        }\n\n        console.log(\"user Id : \", data.id);\n        setValues({ ...values,\n          name: \"\",\n          phone: \"\",\n          error: \"\",\n          uid: data.id,\n          isRedirect: true,\n          success: true\n        });\n      }\n    }).catch(console.log(\"Error in signup\"));\n  };\n\n  const successMessage = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 offset-sm-3 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      style: {\n        display: success ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, \"New account was created successfully.Please \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 57\n      }\n    }, \" Login Here \"), \"  \"), \" \"), \" \");\n  };\n\n  const errorMessage = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 offset-sm-3 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, error, \" \"), \" \"), \" \");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"userbase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 14\n    }\n  }, \" \", successMessage(), \" \", onRedirected(), \" \", /*#__PURE__*/React.createElement(UserBase, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 78\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"exampleInputEmail1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, \" Name \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange(\"name\"),\n    type: \"text\",\n    class: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 53\n    }\n  })), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"exampleInputPassword1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, \" Phone \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange(\"phone\"),\n    type: \"number\",\n    class: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 57\n    }\n  })), \" \", onLoadMap(), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"exampleFormControlSelect1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, \" Confirm Location \"), \" \", /*#__PURE__*/React.createElement(\"select\", {\n    onChange: handleChange(\"location\"),\n    class: \"form-control\",\n    id: \"exampleFormControlSelect1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 72\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, \" Near Pollachi Main Road, Malumichampatty, Coimbatore, Tamil Nadu 641050 \"), \" \", /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 101\n    }\n  }, \" Near Chettipalayam Rd, Guruvayur Nagar, Malumichampatti, Tamil Nadu 641050 \"), \" \", /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 104\n    }\n  }, \" Near Chettipalayam Rd, Guruvayur Nagar, Malumichampatti, Tamil Nadu 641050 \"), \" \", /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 104\n    }\n  }, \" No Near Malumichampatti \"), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: onSubmit,\n    class: \"btn btn-warning btn-block rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, \" Submit \"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n    className: \"alreadyuser mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 73\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 44\n    }\n  }, \" If use are already a user, please sigin below \"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signinbtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-info rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, \"Signin \"), \"  \"))), \" \"), \" \")));\n};\n\nexport default Signup;","map":{"version":3,"sources":["C:/Users/user/Desktop/Shaji Project/frontEnd/src/user/Signup.js"],"names":["React","useState","Base","Link","Redirect","signup","v4","uuidv4","UserBase","Map","Signup","values","setValues","name","phone","error","uid","location","isRedirect","userAlready","success","loading","onLoadMap","position","draggable","title","onClick","e","console","log","onDragend","code","setcode","handleChange","event","target","value","onRedirected","Path","alredyAUser","onSubmit","CODE","substr","preventDefault","then","data","id","catch","successMessage","display","errorMessage"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { signup } from \"../auth/helper\";\nimport { v4 as uuidv4 } from 'uuid';\nimport UserBase from \"./UserBase\";\nimport Map from \"mapmyindia-react\";\nimport \"./UserBase.css\"\nconst Signup = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        phone: \"\",\n        error: \"\",\n        uid: \"\",\n        location: \"\",\n        isRedirect: false,\n        userAlready: false,\n        success: false,\n        loading: false\n    });\n    const onLoadMap = () => {\n        return ( <\n            Map markers = {\n                [{\n                    position: [18.5314, 73.845],\n                    draggable: true,\n                    title: \"Marker title\",\n                    onClick: e => {\n                        console.log(\"clicked \");\n                    },\n                    onDragend: e => {\n                        console.log(\"dragged\");\n                    }\n                }]\n            }\n            />\n        )\n    }\n    const [code, setcode] = useState(\"\")\n    const { name, phone, error, success, loading, location, isRedirect, uid, userAlready } = values;\n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]: event.target.value });\n    };\n    const onRedirected = () => {\n        if (isRedirect) {\n            const Path = \"/verification/\" + uid\n            return <Redirect to = { Path }\n            />\n        }\n    }\n\n    const alredyAUser = () => {\n\n        if (userAlready) {\n            return <Redirect / >\n        }\n    }\n    const onSubmit = event => {\n        const CODE = uuidv4().substr(1, 4);\n        setcode(CODE)\n        console.log(\"CODE : \", code);\n\n        event.preventDefault();\n        setValues({...values, error: false, code: CODE });\n        signup({ name, phone, code })\n            .then(data => {\n                if (data.error) {\n                    setValues({...values, error: data.error, success: false });\n                } else {\n                    console.log(data);\n                    if (data.userAlready) {\n                        setValues({\n                            ...values,\n                            userAlready: true\n                        })\n                    }\n                    console.log(\"user Id : \", data.id);\n\n                    setValues({\n                        ...values,\n                        name: \"\",\n                        phone: \"\",\n                        error: \"\",\n                        uid: data.id,\n                        isRedirect: true,\n                        success: true\n                    });\n                }\n            })\n            .catch(console.log(\"Error in signup\"));\n    };\n\n\n\n    const successMessage = () => {\n        return ( <\n            div className = \"row\" >\n            <\n            div className = \"col-md-6 offset-sm-3 text-left\" >\n            <\n            div className = \"alert alert-success\"\n            style = {\n                { display: success ? \"\" : \"none\" } } >\n            New account was created successfully.Please <\n            Link to = \"/signin\" > Login Here < /Link>  <\n            /div> <\n            /div> <\n            /div>\n        );\n    };\n\n    const errorMessage = () => {\n        return ( <\n            div className = \"row\" >\n            <\n            div className = \"col-md-6 offset-sm-3 text-left\" >\n            <\n            div className = \"alert alert-danger\"\n            style = {\n                { display: error ? \"\" : \"none\" } } >\n            { error } <\n            /div> <\n            /div> <\n            /div>\n        );\n    };\n\n    return ( <\n        div className = \"userbase\" > { successMessage() } { onRedirected() } <\n        UserBase / >\n        <\n        div >\n        <\n        div className = \"container mt-5\" >\n        <\n        form >\n        <\n        div class = \"form-group\" >\n        <\n        label\n        for = \"exampleInputEmail1\" > Name < /label> <\n        input onChange = { handleChange(\"name\") }\n        type = \"text\"\n        class = \"form-control\" / >\n        <\n        /div> <\n        div class = \"form-group\" >\n        <\n        label\n        for = \"exampleInputPassword1\" > Phone < /label> <\n        input onChange = { handleChange(\"phone\") }\n        type = \"number\"\n        class = \"form-control\" / >\n        <\n        /div> { onLoadMap() } <\n        div class = \"form-group\" >\n        <\n        label\n        for = \"exampleFormControlSelect1\" > Confirm Location < /label> <\n        select onChange = { handleChange(\"location\") }\n        class = \"form-control\"\n        id = \"exampleFormControlSelect1\" >\n        <\n        option > Near Pollachi Main Road, Malumichampatty, Coimbatore, Tamil Nadu 641050 < /option> <\n        option > Near Chettipalayam Rd, Guruvayur Nagar, Malumichampatti, Tamil Nadu 641050 < /option> <\n        option > Near Chettipalayam Rd, Guruvayur Nagar, Malumichampatti, Tamil Nadu 641050 < /option> <\n        option > No Near Malumichampatti < /option> <\n        /select> <\n        /div> <\n        div >\n\n        <\n        button type = \"submit\"\n        onClick = { onSubmit }\n        class = \"btn btn-warning btn-block rounded\" > Submit < /button> <\n        p className = \"alreadyuser mt-4\" > < small > If use are already a user, please sigin below < /small> </p >\n        <\n        div className = \"signinbtn\" >\n        <\n        Link to = \"/signin\" >\n\n        <\n        button className = \"btn btn-info rounded\" >\n        Signin <\n        /button>  <\n        /Link>\n\n        <\n        /div>\n\n        <\n        /div> <\n        /form> <\n        /div>\n\n        <\n        /div>\n\n        <\n        /div>\n    );\n};\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}