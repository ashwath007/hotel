{"ast":null,"code":"import { useCallback } from \"react\";\nimport { useRefCache } from \"@react-md/utils\";\n/**\n * This hook is used to create a click handler on the menu that will close the\n * menu when any `MenuItem` is clicked.\n */\n\nexport default function useMenuClick(_a) {\n  var onClick = _a.onClick,\n      onRequestClose = _a.onRequestClose;\n  var cache = useRefCache({\n    onClick: onClick,\n    onRequestClose: onRequestClose\n  });\n  return useCallback(function (event) {\n    var _a = cache.current,\n        onClick = _a.onClick,\n        onRequestClose = _a.onRequestClose;\n\n    if (onClick) {\n      onClick(event);\n    }\n\n    var target = event.target;\n\n    if (!target || event.currentTarget !== target && !target.closest(\"[aria-haspopup]\")) {\n      onRequestClose();\n    } // disabled since useRefCache\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n}","map":{"version":3,"sources":["../src/useMenuClick.ts"],"names":[],"mappings":"AAAA,SAAS,WAAT,QAA4B,OAA5B;AACA,SAAS,WAAT,QAA4B,iBAA5B;AAOA;;;;;AAIA,eAAc,SAAU,YAAV,CAAuB,EAAvB,EAGK;MAFjB,OAAO,GAAA,EAAA,CAAA,O;MACP,cAAc,GAAA,EAAA,CAAA,c;AAEd,MAAM,KAAK,GAAG,WAAW,CAAC;AAAE,IAAA,OAAO,EAAA,OAAT;AAAW,IAAA,cAAc,EAAA;AAAzB,GAAD,CAAzB;AAEA,SAAO,WAAW,CAAC,UAAC,KAAD,EAAwC;AACnD,QAAA,EAAA,GAA8B,KAAK,CAAC,OAApC;AAAA,QAAE,OAAO,GAAA,EAAA,CAAA,OAAT;AAAA,QAAW,cAAc,GAAA,EAAA,CAAA,cAAzB;;AACN,QAAI,OAAJ,EAAa;AACX,MAAA,OAAO,CAAC,KAAD,CAAP;AACD;;AAED,QAAM,MAAM,GAAG,KAAK,CAAC,MAArB;;AACA,QACE,CAAC,MAAD,IACC,KAAK,CAAC,aAAN,KAAwB,MAAxB,IAAkC,CAAC,MAAM,CAAC,OAAP,CAAe,iBAAf,CAFtC,EAGE;AACA,MAAA,cAAc;AACf,KAZwD,CAazD;AACA;;AACD,GAfiB,EAef,EAfe,CAAlB;AAgBD","sourceRoot":"","sourcesContent":["import { useCallback } from \"react\";\nimport { useRefCache } from \"@react-md/utils\";\n/**\n * This hook is used to create a click handler on the menu that will close the\n * menu when any `MenuItem` is clicked.\n */\nexport default function useMenuClick(_a) {\n    var onClick = _a.onClick, onRequestClose = _a.onRequestClose;\n    var cache = useRefCache({ onClick: onClick, onRequestClose: onRequestClose });\n    return useCallback(function (event) {\n        var _a = cache.current, onClick = _a.onClick, onRequestClose = _a.onRequestClose;\n        if (onClick) {\n            onClick(event);\n        }\n        var target = event.target;\n        if (!target ||\n            (event.currentTarget !== target && !target.closest(\"[aria-haspopup]\"))) {\n            onRequestClose();\n        }\n        // disabled since useRefCache\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n}\n//# sourceMappingURL=useMenuClick.js.map"]},"metadata":{},"sourceType":"module"}