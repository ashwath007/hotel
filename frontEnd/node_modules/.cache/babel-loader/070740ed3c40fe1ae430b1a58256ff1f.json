{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Shaji Project\\\\frontEnd\\\\src\\\\core\\\\MenuCard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Badge from '@material-ui/core/Badge';\nimport \"./MenuCard.css\";\nimport CartCardBtn from \"./CartCardBtn\";\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport clsx from 'clsx';\nimport Chip from '@material-ui/core/Chip';\nimport Avatar from '@material-ui/core/Avatar';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ImageHelper from './helper/ImageHelper';\nimport { addItemToCart, removeItemFromCart } from './helper/cartHelper';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    '& > *': {\n      marginBottom: theme.spacing(2)\n    },\n    '& .MuiBadge-root': {\n      marginRight: theme.spacing(4)\n    }\n  }\n}));\n\nconst MenuCard = ({\n  product,\n  addtoCart = true,\n  removeFromCart = false\n}) => {\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = React.useState(0);\n  const [invisible, setInvisible] = React.useState(false);\n  const [total, setTotal] = React.useState(0);\n  const [plus, setPlus] = React.useState(0);\n  const [minus, setMinus] = React.useState(0);\n  const [totalcount, setTotalcount] = useState(0);\n\n  const handleBadgeVisibility = () => {\n    setInvisible(!invisible);\n  }; //   const [count, setCount] = useState(product.count);    \n\n\n  const useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: theme.spacing(2),\n      margin: 'auto',\n      maxWidth: 500\n    },\n    image: {\n      width: 128,\n      height: 128\n    },\n    img: {\n      margin: 'auto',\n      display: 'block',\n      maxWidth: '100%',\n      maxHeight: '100%'\n    }\n  }));\n  const cartTitle = product ? product.name : \"A photo from pexels\";\n  const cartDescrption = product ? product.description : \"Default description\";\n  const cartPrice = product ? product.price : \"DEFAULT\";\n  const cartType = product ? product.type : \"DEFAULT\";\n  const productId = product ? product._id : null;\n  const classes = useStyles();\n\n  const showContBtn = () => {\n    if (count > 0) {\n      return /*#__PURE__*/React.createElement(Button, {\n        className: \"boxs\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"itemcen pt-1 boxtxt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 45\n        }\n      }, count)));\n    }\n  }; //TODO:Here we are updating the count \n\n\n  const onCountUpdate = productId => {\n    let cart = [];\n    let TOTOAL = 0;\n\n    if (typeof window !== undefined) {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      } // console.log(cart)\n      // console.log(cart[4]._id)\n\n\n      if (productId) {\n        console.log(\"product >>>> \", productId);\n        cart.map((pro, id) => {\n          if (pro != null) {\n            if (pro._id === productId) {\n              TOTOAL = TOTOAL + 1;\n            }\n          }\n        });\n      }\n\n      console.log(\"TOTAL : \", TOTOAL);\n      setCount(TOTOAL);\n    }\n  };\n\n  useEffect(() => {\n    onCountUpdate(productId);\n    autoCountBtn();\n  }, []); //TODO  :  we need to see this issue\n\n  setTimeout(() => {\n    onCountUpdate(productId);\n  }, 500);\n\n  const addToCart = () => {\n    addItemToCart(product, () => setRedirect(true));\n    onCountUpdate(productId);\n  };\n\n  const showRemoveFromCart = removeFromCart => {\n    removeFromCart && removeItemFromCart(product);\n    onCountUpdate(productId);\n  }; // const showAddToCart = addtoCart => {\n  //   return (\n  //     addtoCart && (\n  //       <button\n  //         onClick={addToCart}\n  //         className=\"btn btn-block btn-outline-success mt-2 mb-2\"\n  //       >\n  //         Add to Cart\n  //       </button>\n  //     )\n  //   );\n  // };\n\n\n  const circle = /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.shape, classes.shapeCircle),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 16\n    }\n  });\n\n  const autoCountBtn = () => {\n    let cart = [];\n    let TCOUNT = 0;\n\n    if (typeof window !== undefined) {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((PRODUCT, INDEX) => {\n        if (PRODUCT != null) {\n          TCOUNT = TCOUNT + 1;\n        }\n      });\n    }\n\n    setTotalcount(TCOUNT);\n  };\n\n  const cartSection = () => {\n    if (count > 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card cartcard fixed-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Badge, {\n        overlap: \"circle\",\n        badgeContent: \" \",\n        variant: \"dot\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }\n      }, circle, /*#__PURE__*/React.createElement(CartCardBtn, {\n        total: totalcount,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 9\n        }\n      })));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imgbotbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 36\n    }\n  }, /*#__PURE__*/React.createElement(ImageHelper, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-3  boxtxts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, \" \", cartTitle, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 58\n    }\n  }), \"\\u20B9\", cartPrice, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 81\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"typeboxs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"typetxt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, \"Veg\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 countbtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    className: \"btnbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"boxs\",\n    \"aria-label\": \"reduce\",\n    onClick: showRemoveFromCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(RemoveIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  })), showContBtn(), /*#__PURE__*/React.createElement(Button, {\n    className: \"boxs boxtxt\",\n    \"aria-label\": \"increase\",\n    onClick: addToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  })))))), cartSection());\n};\n\nexport default MenuCard;","map":{"version":3,"sources":["C:/Users/user/Desktop/Shaji Project/frontEnd/src/core/MenuCard.js"],"names":["React","useState","useEffect","makeStyles","Badge","CartCardBtn","ButtonGroup","Button","AddIcon","RemoveIcon","clsx","Chip","Avatar","DoneIcon","ImageHelper","addItemToCart","removeItemFromCart","useStyles","theme","root","display","flexDirection","marginBottom","spacing","marginRight","MenuCard","product","addtoCart","removeFromCart","redirect","setRedirect","count","setCount","invisible","setInvisible","total","setTotal","plus","setPlus","minus","setMinus","totalcount","setTotalcount","handleBadgeVisibility","flexGrow","paper","padding","margin","maxWidth","image","width","height","img","maxHeight","cartTitle","name","cartDescrption","description","cartPrice","price","cartType","type","productId","_id","classes","showContBtn","onCountUpdate","cart","TOTOAL","window","undefined","localStorage","getItem","JSON","parse","console","log","map","pro","id","autoCountBtn","setTimeout","addToCart","showRemoveFromCart","circle","shape","shapeCircle","TCOUNT","PRODUCT","INDEX","cartSection"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAO,gBAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,SAASC,aAAT,EAAwBC,kBAAxB,QAAiD,qBAAjD;AAIA,MAAMC,SAAS,GAAGd,UAAU,CAAEe,KAAD,KAAY;AACrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE,MADL;AAEJC,IAAAA,aAAa,EAAE,QAFX;AAGJ,aAAS;AACPC,MAAAA,YAAY,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd;AADP,KAHL;AAMJ,wBAAoB;AAClBC,MAAAA,WAAW,EAAEN,KAAK,CAACK,OAAN,CAAc,CAAd;AADK;AANhB;AAD+B,CAAZ,CAAD,CAA5B;;AAaA,MAAME,QAAQ,GAAG,CAAC;AACdC,EAAAA,OADc;AAEdC,EAAAA,SAAS,GAAG,IAFE;AAGdC,EAAAA,cAAc,GAAG;AAHH,CAAD,KAIX;AACJ,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B7B,QAAQ,CAAC,KAAD,CAAxC;AACE,QAAM,CAAC8B,KAAD,EAAQC,QAAR,IAAoBhC,KAAK,CAACC,QAAN,CAAe,CAAf,CAA1B;AACA,QAAM,CAACgC,SAAD,EAAYC,YAAZ,IAA4BlC,KAAK,CAACC,QAAN,CAAe,KAAf,CAAlC;AACA,QAAM,CAACkC,KAAD,EAAOC,QAAP,IAAmBpC,KAAK,CAACC,QAAN,CAAe,CAAf,CAAzB;AACA,QAAM,CAACoC,IAAD,EAAMC,OAAN,IAAiBtC,KAAK,CAACC,QAAN,CAAe,CAAf,CAAvB;AACA,QAAM,CAACsC,KAAD,EAAOC,QAAP,IAAmBxC,KAAK,CAACC,QAAN,CAAe,CAAf,CAAzB;AACA,QAAM,CAACwC,UAAD,EAAYC,aAAZ,IAA6BzC,QAAQ,CAAC,CAAD,CAA3C;;AACA,QAAM0C,qBAAqB,GAAG,MAAM;AAClCT,IAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;AACD,GAFD,CARE,CAYN;;;AACA,QAAMhB,SAAS,GAAGd,UAAU,CAAEe,KAAD,KAAY;AACrCC,IAAAA,IAAI,EAAE;AACJyB,MAAAA,QAAQ,EAAE;AADN,KAD+B;AAIrCC,IAAAA,KAAK,EAAE;AACLC,MAAAA,OAAO,EAAE5B,KAAK,CAACK,OAAN,CAAc,CAAd,CADJ;AAELwB,MAAAA,MAAM,EAAE,MAFH;AAGLC,MAAAA,QAAQ,EAAE;AAHL,KAJ8B;AASrCC,IAAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAE,GADF;AAELC,MAAAA,MAAM,EAAE;AAFH,KAT8B;AAarCC,IAAAA,GAAG,EAAE;AACHL,MAAAA,MAAM,EAAE,MADL;AAEH3B,MAAAA,OAAO,EAAE,OAFN;AAGH4B,MAAAA,QAAQ,EAAE,MAHP;AAIHK,MAAAA,SAAS,EAAE;AAJR;AAbgC,GAAZ,CAAD,CAA5B;AAoBE,QAAMC,SAAS,GAAG5B,OAAO,GAAGA,OAAO,CAAC6B,IAAX,GAAkB,qBAA3C;AACA,QAAMC,cAAc,GAAG9B,OAAO,GAAGA,OAAO,CAAC+B,WAAX,GAAyB,qBAAvD;AACA,QAAMC,SAAS,GAAGhC,OAAO,GAAGA,OAAO,CAACiC,KAAX,GAAmB,SAA5C;AACA,QAAMC,QAAQ,GAAGlC,OAAO,GAAGA,OAAO,CAACmC,IAAX,GAAkB,SAA1C;AACA,QAAMC,SAAS,GAAGpC,OAAO,GAAGA,OAAO,CAACqC,GAAX,GAAiB,IAA1C;AACA,QAAMC,OAAO,GAAG/C,SAAS,EAAzB;;AAEF,QAAMgD,WAAW,GAAG,MAAM;AACxB,QAAGlC,KAAK,GAAC,CAAT,EAAW;AACT,0BACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAM,QAAA,SAAS,EAAC,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,KAAL,CAAtC,CADA,CADF;AAKD;AAEF,GATD,CAxCM,CAkDN;;;AACA,QAAMmC,aAAa,GAAIJ,SAAD,IAAc;AAClC,QAAIK,IAAI,GAAG,EAAX;AACA,QAAIC,MAAM,GAAG,CAAb;;AACA,QAAI,OAAOC,MAAP,KAAkBC,SAAtB,EAAiC;AAC/B,UAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChCL,QAAAA,IAAI,GAAGM,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD,OAH8B,CAI/B;AACA;;;AACA,UAAGV,SAAH,EAAa;AACXa,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4Bd,SAA5B;AACAK,QAAAA,IAAI,CAACU,GAAL,CAAS,CAACC,GAAD,EAAKC,EAAL,KAAU;AACjB,cAAGD,GAAG,IAAI,IAAV,EAAe;AACb,gBAAGA,GAAG,CAACf,GAAJ,KAAYD,SAAf,EAAyB;AACvBM,cAAAA,MAAM,GAAGA,MAAM,GAAG,CAAlB;AACD;AACF;AAER,SAPK;AAQD;;AAEDO,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBR,MAAvB;AACApC,MAAAA,QAAQ,CAACoC,MAAD,CAAR;AAEH;AAAE,GAxBH;;AA0BAlE,EAAAA,SAAS,CAAC,MAAM;AACdgE,IAAAA,aAAa,CAACJ,SAAD,CAAb;AACAkB,IAAAA,YAAY;AACb,GAHQ,EAGN,EAHM,CAAT,CA7EM,CAqFN;;AACkBC,EAAAA,UAAU,CAAC,MAAM;AACff,IAAAA,aAAa,CAACJ,SAAD,CAAb;AACD,GAFS,EAEP,GAFO,CAAV;;AAIlB,QAAMoB,SAAS,GAAG,MAAM;AAEtBnE,IAAAA,aAAa,CAACW,OAAD,EAAU,MAAMI,WAAW,CAAC,IAAD,CAA3B,CAAb;AACAoC,IAAAA,aAAa,CAACJ,SAAD,CAAb;AACD,GAJD;;AAOA,QAAMqB,kBAAkB,GAAGvD,cAAc,IAAI;AACzCA,IAAAA,cAAc,IAERZ,kBAAkB,CAACU,OAAD,CAFxB;AAMFwC,IAAAA,aAAa,CAACJ,SAAD,CAAb;AACD,GARD,CAjGM,CA2GN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAMsB,MAAM,gBAAG;AAAK,IAAA,SAAS,EAAE1E,IAAI,CAACsD,OAAO,CAACqB,KAAT,EAAgBrB,OAAO,CAACsB,WAAxB,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAf;;AACA,QAAMN,YAAY,GAAG,MAAM;AACzB,QAAIb,IAAI,GAAG,EAAX;AACA,QAAIoB,MAAM,GAAG,CAAb;;AACA,QAAI,OAAOlB,MAAP,KAAkBC,SAAtB,EAAiC;AAC/B,UAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChCL,QAAAA,IAAI,GAAGM,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD;;AAEGL,MAAAA,IAAI,CAACU,GAAL,CAAS,CAACW,OAAD,EAASC,KAAT,KAAiB;AACxB,YAAGD,OAAO,IAAI,IAAd,EAAmB;AACjBD,UAAAA,MAAM,GAAGA,MAAM,GAAG,CAAlB;AACD;AACF,OAJD;AAKH;;AACD7C,IAAAA,aAAa,CAAC6C,MAAD,CAAb;AAGH,GAjBD;;AAkBA,QAAMG,WAAW,GAAG,MAAM;AACxB,QAAG3D,KAAK,GAAC,CAAT,EAAW;AACT,0BACE;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAQ,QAAA,OAAO,EAAC,QAAhB;AAAyB,QAAA,YAAY,EAAC,GAAtC;AAA0C,QAAA,OAAO,EAAC,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCqD,MADD,eAGA,oBAAC,WAAD;AAAa,QAAA,KAAK,EAAE3C,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,CADF,CADF;AAWD;AAEF,GAfD;;AAgBI,sBACG;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGC;AAAK,IAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAmB;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACjB,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEf,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADiB,CAAnB,CADJ,eAII;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA8B4B,SAA9B,oBAAyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAzC,YAAsDI,SAAtD,eAAgE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAhE,eACA;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,CADA,CAJJ,eASI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACN,oBAAC,MAAD;AACE,IAAA,SAAS,EAAC,MADZ;AAEE,kBAAW,QAFb;AAGE,IAAA,OAAO,EAELyB,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUE,oBAAC,UAAD;AAAY,IAAA,QAAQ,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADM,EAaLlB,WAAW,EAbN,eAcN,oBAAC,MAAD;AACA,IAAA,SAAS,EAAC,aADV;AAEE,kBAAW,UAFb;AAGE,IAAA,OAAO,EACHiB,SAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASE,oBAAC,OAAD;AAAS,IAAA,QAAQ,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CAdM,CADA,CATJ,CADJ,CAHD,EA0CKQ,WAAW,EA1ChB,CADH;AAiDH,CA/MD;;AAgNA,eAAejE,QAAf","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport \"./MenuCard.css\"\r\nimport CartCardBtn from \"./CartCardBtn\";\r\n\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport clsx from 'clsx';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ImageHelper from './helper/ImageHelper';\r\nimport { addItemToCart ,removeItemFromCart} from './helper/cartHelper';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      '& > *': {\r\n        marginBottom: theme.spacing(2),\r\n      },\r\n      '& .MuiBadge-root': {\r\n        marginRight: theme.spacing(4),\r\n      },\r\n    },\r\n  }));\r\n\r\nconst MenuCard = ({\r\n    product,\r\n    addtoCart = true,\r\n    removeFromCart = false,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n    const [count, setCount] = React.useState(0);\r\n    const [invisible, setInvisible] = React.useState(false);\r\n    const [total,setTotal] = React.useState(0);\r\n    const [plus,setPlus] = React.useState(0);\r\n    const [minus,setMinus] = React.useState(0);\r\n    const [totalcount,setTotalcount] = useState(0)\r\n    const handleBadgeVisibility = () => {\r\n      setInvisible(!invisible);\r\n    };\r\n    \r\n//   const [count, setCount] = useState(product.count);    \r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      margin: 'auto',\r\n      maxWidth: 500,\r\n    },\r\n    image: {\r\n      width: 128,\r\n      height: 128,\r\n    },\r\n    img: {\r\n      margin: 'auto',\r\n      display: 'block',\r\n      maxWidth: '100%',\r\n      maxHeight: '100%',\r\n    },\r\n  }));\r\n  const cartTitle = product ? product.name : \"A photo from pexels\";\r\n  const cartDescrption = product ? product.description : \"Default description\";\r\n  const cartPrice = product ? product.price : \"DEFAULT\";\r\n  const cartType = product ? product.type : \"DEFAULT\";\r\n  const productId = product ? product._id : null;\r\n  const classes = useStyles();\r\n\r\nconst showContBtn = () => {\r\n  if(count>0){\r\n    return (\r\n      <Button className=\"boxs\">\r\n      <span className=\"itemcen pt-1 boxtxt\"><h6>{count}</h6></span>\r\n      </Button>\r\n    );\r\n  }\r\n  \r\n}\r\n//TODO:Here we are updating the count \r\nconst onCountUpdate = (productId) =>{\r\n  let cart = [];\r\n  let TOTOAL = 0\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    // console.log(cart)\r\n    // console.log(cart[4]._id)\r\n    if(productId){\r\n      console.log(\"product >>>> \",productId);\r\n      cart.map((pro,id)=>{\r\n        if(pro != null){\r\n          if(pro._id === productId){\r\n            TOTOAL = TOTOAL + 1\r\n          }  \r\n        }\r\n           \r\n})\r\n    }\r\n   \r\n    console.log(\"TOTAL : \",TOTOAL);\r\n    setCount(TOTOAL)\r\n    \r\n} }\r\n\r\nuseEffect(() => {\r\n  onCountUpdate(productId);\r\n  autoCountBtn();\r\n}, [])\r\n\r\n\r\n\r\n\r\n//TODO  :  we need to see this issue\r\n                  setTimeout(() => {\r\n                    onCountUpdate(productId)\r\n                  }, 500);\r\n\r\nconst addToCart = () => {\r\n\r\n  addItemToCart(product, () => setRedirect(true));\r\n  onCountUpdate(productId)\r\n};\r\n\r\n\r\nconst showRemoveFromCart = removeFromCart => {\r\n    removeFromCart && (\r\n     \r\n          removeItemFromCart(product)\r\n     \r\n      \r\n  );\r\n  onCountUpdate(productId)\r\n};\r\n\r\n// const showAddToCart = addtoCart => {\r\n//   return (\r\n//     addtoCart && (\r\n//       <button\r\n//         onClick={addToCart}\r\n//         className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n//       >\r\n//         Add to Cart\r\n//       </button>\r\n//     )\r\n//   );\r\n// };\r\nconst circle = <div className={clsx(classes.shape, classes.shapeCircle)} />;\r\nconst autoCountBtn = () => {\r\n  let cart = [];\r\n  let TCOUNT = 0\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  \r\n        cart.map((PRODUCT,INDEX)=>{\r\n          if(PRODUCT != null){\r\n            TCOUNT = TCOUNT + 1\r\n          }\r\n        })\r\n    }\r\n    setTotalcount(TCOUNT)\r\n    \r\n\r\n}\r\nconst cartSection = () => {\r\n  if(count>0){\r\n    return (\r\n      <div className=\"card cartcard fixed-bottom\">\r\n        <Badge  overlap=\"circle\" badgeContent=\" \" variant=\"dot\">\r\n        {circle}\r\n\r\n        <CartCardBtn total={totalcount}/>  \r\n      </Badge>\r\n            \r\n        </div>\r\n      \r\n        );\r\n  }\r\n \r\n}\r\n    return (\r\n       <div className=\"\">\r\n           \r\n      \r\n        <div class=\"card-body\">\r\n            <div class=\"row\">\r\n                <div class=\"col-4\"><div className=\"imgbotbox\">\r\n                  <ImageHelper product={product}/>\r\n                  </div></div>\r\n                <div class=\"col-3  boxtxts\"> {cartTitle} <br/>&#8377;{cartPrice}<br/>\r\n                <div className=\"typeboxs\">\r\n                  <h6 className=\"typetxt\">Veg</h6>\r\n                </div>\r\n                </div>\r\n                <div className=\"col-4 countbtn\"> \r\n                <ButtonGroup className=\"btnbox\">\r\n          <Button\r\n            className=\"boxs\"\r\n            aria-label=\"reduce\"\r\n            onClick={\r\n              \r\n              showRemoveFromCart\r\n              \r\n\r\n            }\r\n          >\r\n            <RemoveIcon fontSize=\"small\" />\r\n          </Button>\r\n          {showContBtn()}\r\n          <Button\r\n          className=\"boxs boxtxt\"  \r\n            aria-label=\"increase\"\r\n            onClick={\r\n                addToCart\r\n         \r\n\r\n            }\r\n          >\r\n            <AddIcon fontSize=\"small\" />\r\n          </Button>\r\n        </ButtonGroup></div>\r\n            </div>\r\n    </div>\r\n           {cartSection()}\r\n       </div>\r\n            \r\n                \r\n\r\n    )\r\n}\r\nexport default MenuCard"]},"metadata":{},"sourceType":"module"}