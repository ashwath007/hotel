{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Shaji Project\\\\frontEnd\\\\src\\\\user\\\\AdminMenus\\\\AdminShajiDashOrderOutDelivery.js\";\nimport React, { useEffect, useState } from 'react';\nimport Map from \"mapmyindia-react\";\nimport { Link, Redirect } from 'react-router-dom';\nimport \"./AdminShajiDashOrderOutDelivery.css\";\nimport { loadOrderAndUserdata, assignorderToUser } from \"./help/orderstatushelper\";\nexport default function AdminShajiDashOrderOutDelivery({\n  match\n}) {\n  const [orders, setorders] = useState([]);\n  const [fleets, setfleets] = useState([]);\n  const [redirect, setredirect] = useState(false);\n  const [value, setValue] = useState({\n    name: \"\",\n    phone: \"\",\n    address: \"\",\n    location: [],\n    latitude: \"\",\n    longitude: \"\",\n    userId: \"\"\n  });\n\n  const isRedirected = () => {\n    if (redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/admin/shaji/dashboard/menu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 20\n        }\n      });\n    }\n  };\n\n  const {\n    name,\n    phone,\n    address,\n    location,\n    longitude,\n    latitude,\n    userId\n  } = value;\n\n  const onLoad = orderId => {\n    loadOrderAndUserdata(orderId).then(res => {\n      console.log(res);\n      console.log(res.fleets);\n      setorders(res.order);\n      setfleets(res.fleets);\n      setValue({ ...value,\n        name: res.userdata.name,\n        phone: res.userdata.phone,\n        address: res.userdata.address,\n        location: res.userdata.location.coordinates,\n        latitude: res.userdata.location.coordinates[0],\n        longitude: res.userdata.location.coordinates[1],\n        userId: res.userdata._id\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    onLoad(match.params.orderId);\n  }, []);\n\n  const showUserMap = () => {\n    if (longitude && latitude) {\n      return /*#__PURE__*/React.createElement(Map, {\n        markers: [{\n          position: [latitude, longitude],\n          draggable: true,\n          title: \"User Location\",\n          onClick: e => {\n            console.log(\"clicked \");\n          },\n          onDragend: e => {\n            console.log(\"dragged\");\n          }\n        }],\n        center: [latitude, longitude],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      });\n    }\n  };\n\n  const userDatails = () => {\n    if (name && phone && address) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 3\n        }\n      }, name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, phone), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-light text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, \"Address : \"), address))));\n    }\n  };\n\n  const assignOrder = (orderId, fleetsId) => {\n    assignorderToUser(orderId, fleetsId).then(res => {\n      console.log(res);\n\n      if (res.error) {\n        console.log(res.error);\n      }\n\n      setredirect(true);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Delivery order\"), /*#__PURE__*/React.createElement(Link, {\n    to: `/admin/shaji/dashboard/orders`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Back\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container delpick\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, userDatails(), Object.keys(fleets).map((F, I) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-4 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 33\n      }\n    }, isRedirected(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-3 pb-1 pr-3 pl-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 37\n      }\n    }, \"Name: \", fleets[F].name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 33\n      }\n    }, \"Phone: \", fleets[F].phone)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        assignOrder(match.params.orderId, fleets[F]._id);\n      },\n      className: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 37\n      }\n    }, \"Assign to \", fleets[F].name))));\n  }), showUserMap())));\n}","map":{"version":3,"sources":["C:/Users/user/Desktop/Shaji Project/frontEnd/src/user/AdminMenus/AdminShajiDashOrderOutDelivery.js"],"names":["React","useEffect","useState","Map","Link","Redirect","loadOrderAndUserdata","assignorderToUser","AdminShajiDashOrderOutDelivery","match","orders","setorders","fleets","setfleets","redirect","setredirect","value","setValue","name","phone","address","location","latitude","longitude","userId","isRedirected","onLoad","orderId","then","res","console","log","order","userdata","coordinates","_id","catch","err","params","showUserMap","position","draggable","title","onClick","e","onDragend","userDatails","assignOrder","fleetsId","error","Object","keys","map","F","I"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,SAASC,IAAT,EAAcC,QAAd,QAA8B,kBAA9B;AAEA,OAAO,sCAAP;AACA,SAAQC,oBAAR,EAA6BC,iBAA7B,QAAqD,0BAArD;AACA,eAAe,SAASC,8BAAT,CAAwC;AAACC,EAAAA;AAAD,CAAxC,EAAiD;AAC5D,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACc,KAAD,EAAOC,QAAP,IAAmBf,QAAQ,CAAC;AAC9BgB,IAAAA,IAAI,EAAC,EADyB;AAE9BC,IAAAA,KAAK,EAAC,EAFwB;AAG9BC,IAAAA,OAAO,EAAC,EAHsB;AAI9BC,IAAAA,QAAQ,EAAC,EAJqB;AAK9BC,IAAAA,QAAQ,EAAC,EALqB;AAM9BC,IAAAA,SAAS,EAAC,EANoB;AAO9BC,IAAAA,MAAM,EAAC;AAPuB,GAAD,CAAjC;;AAUA,QAAMC,YAAY,GAAG,MAAM;AACvB,QAAGX,QAAH,EAAY;AACR,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,6BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;AACJ,GAJD;;AAKA,QAAM;AAACI,IAAAA,IAAD;AAAMC,IAAAA,KAAN;AAAYC,IAAAA,OAAZ;AAAoBC,IAAAA,QAApB;AAA6BE,IAAAA,SAA7B;AAAuCD,IAAAA,QAAvC;AAAgDE,IAAAA;AAAhD,MAA0DR,KAAhE;;AACA,QAAMU,MAAM,GAAIC,OAAD,IAAa;AACxBrB,IAAAA,oBAAoB,CAACqB,OAAD,CAApB,CAA8BC,IAA9B,CAAmCC,GAAG,IAAI;AACtCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACjB,MAAhB;AACAD,MAAAA,SAAS,CAACkB,GAAG,CAACG,KAAL,CAAT;AACAnB,MAAAA,SAAS,CAACgB,GAAG,CAACjB,MAAL,CAAT;AACAK,MAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUE,QAAAA,IAAI,EAACW,GAAG,CAACI,QAAJ,CAAaf,IAA5B;AAAiCC,QAAAA,KAAK,EAACU,GAAG,CAACI,QAAJ,CAAad,KAApD;AAA0DC,QAAAA,OAAO,EAACS,GAAG,CAACI,QAAJ,CAAab,OAA/E;AAAuFC,QAAAA,QAAQ,EAACQ,GAAG,CAACI,QAAJ,CAAaZ,QAAb,CAAsBa,WAAtH;AAAkIZ,QAAAA,QAAQ,EAACO,GAAG,CAACI,QAAJ,CAAaZ,QAAb,CAAsBa,WAAtB,CAAkC,CAAlC,CAA3I;AAAgLX,QAAAA,SAAS,EAACM,GAAG,CAACI,QAAJ,CAAaZ,QAAb,CAAsBa,WAAtB,CAAkC,CAAlC,CAA1L;AAA+NV,QAAAA,MAAM,EAACK,GAAG,CAACI,QAAJ,CAAaE;AAAnP,OAAD,CAAR;AACH,KAND,EAOCC,KAPD,CAOOC,GAAG,IAAI;AACVP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACH,KATD;AAUH,GAXD;;AAYApC,EAAAA,SAAS,CAAC,MAAM;AACZyB,IAAAA,MAAM,CAACjB,KAAK,CAAC6B,MAAN,CAAaX,OAAd,CAAN;AACH,GAFQ,EAEN,EAFM,CAAT;;AAGA,QAAMY,WAAW,GAAG,MAAM;AACtB,QAAGhB,SAAS,IAAID,QAAhB,EAAyB;AACrB,0BACI,oBAAC,GAAD;AACJ,QAAA,OAAO,EAAE,CACP;AACEkB,UAAAA,QAAQ,EAAE,CAAClB,QAAD,EAAWC,SAAX,CADZ;AAGEkB,UAAAA,SAAS,EAAE,IAHb;AAIEC,UAAAA,KAAK,EAAE,eAJT;AAKEC,UAAAA,OAAO,EAAEC,CAAC,IAAI;AACZd,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACD,WAPH;AAQEc,UAAAA,SAAS,EAAED,CAAC,IAAI;AACdd,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD;AAVH,SADO,CADL;AAeR,QAAA,MAAM,EAAE,CAACT,QAAD,EAAWC,SAAX,CAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAoBH;AACJ,GAvBD;;AAyBA,QAAMuB,WAAW,GAAG,MAAM;AACtB,QAAG5B,IAAI,IAAIC,KAAR,IAAiBC,OAApB,EAA4B;AACxB,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAoC,QAAA,IAAI,EAAC,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,IAAL,CADkB,eAER;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIC,KAAJ,CAFQ,eAGR;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEKC,OAFL,CADA,CAHQ,CADJ,CADJ;AAiBH;AACJ,GApBD;;AAqBA,QAAM2B,WAAW,GAAG,CAACpB,OAAD,EAASqB,QAAT,KAAsB;AACtCzC,IAAAA,iBAAiB,CAACoB,OAAD,EAASqB,QAAT,CAAjB,CAAoCpB,IAApC,CAAyCC,GAAG,IAAI;AAC5CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAGA,GAAG,CAACoB,KAAP,EAAa;AACTnB,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACoB,KAAhB;AACH;;AACDlC,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH,KAND,EAOCqB,KAPD,CAOOC,GAAG,IAAI;AACVP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACH,KATD;AAUH,GAXD;;AAYA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAEA,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,+BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CAFA,eAOA;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACXS,WAAW,EADA,EAEXI,MAAM,CAACC,IAAP,CAAYvC,MAAZ,EAAoBwC,GAApB,CAAwB,CAACC,CAAD,EAAGC,CAAH,KAAO;AACR,wBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK7B,YAAY,EADjB,eAEI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACGb,MAAM,CAACyC,CAAD,CAAN,CAAUnC,IADb,CADA,eAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQN,MAAM,CAACyC,CAAD,CAAN,CAAUlC,KADlB,CAJI,CAFJ,eAUA;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAQ,MAAA,OAAO,EAAE,MAAI;AAAC4B,QAAAA,WAAW,CAACtC,KAAK,CAAC6B,MAAN,CAAaX,OAAd,EAAsBf,MAAM,CAACyC,CAAD,CAAN,CAAUlB,GAAhC,CAAX;AAAgD,OAAtE;AAAwE,MAAA,SAAS,EAAC,cAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACevB,MAAM,CAACyC,CAAD,CAAN,CAAUnC,IADzB,CAFJ,CAVA,CADJ,CADJ;AA4BH,GA7BpB,CAFW,EAgCXqB,WAAW,EAhCA,CAPA,CADJ,CADJ;AA8CH","sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport Map from \"mapmyindia-react\";\r\nimport { Link,Redirect } from 'react-router-dom';\r\n\r\nimport \"./AdminShajiDashOrderOutDelivery.css\"\r\nimport {loadOrderAndUserdata,assignorderToUser} from \"./help/orderstatushelper\"\r\nexport default function AdminShajiDashOrderOutDelivery({match}) {\r\n    const [orders, setorders] = useState([])\r\n    const [fleets, setfleets] = useState([])\r\n    const [redirect, setredirect] = useState(false)\r\n    const [value,setValue] = useState({\r\n        name:\"\",\r\n        phone:\"\",\r\n        address:\"\",\r\n        location:[],\r\n        latitude:\"\",\r\n        longitude:\"\",\r\n        userId:\"\"\r\n\r\n    })\r\n    const isRedirected = () => {\r\n        if(redirect){\r\n            return <Redirect to=\"/admin/shaji/dashboard/menu\"/>\r\n        }\r\n    }\r\n    const {name,phone,address,location,longitude,latitude,userId} = value;\r\n    const onLoad = (orderId) => {\r\n        loadOrderAndUserdata(orderId).then(res => {\r\n            console.log(res)\r\n            console.log(res.fleets)\r\n            setorders(res.order)\r\n            setfleets(res.fleets)\r\n            setValue({...value,name:res.userdata.name,phone:res.userdata.phone,address:res.userdata.address,location:res.userdata.location.coordinates,latitude:res.userdata.location.coordinates[0],longitude:res.userdata.location.coordinates[1],userId:res.userdata._id})\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        onLoad(match.params.orderId)\r\n    }, [])\r\n    const showUserMap = () => {\r\n        if(longitude && latitude){\r\n            return(\r\n                <Map\r\n            markers={[\r\n              {\r\n                position: [latitude, longitude],\r\n\r\n                draggable: true,\r\n                title: \"User Location\",\r\n                onClick: e => {\r\n                  console.log(\"clicked \");\r\n                },\r\n                onDragend: e => {\r\n                  console.log(\"dragged\");\r\n                }\r\n              }\r\n            ]}\r\n        center={[latitude, longitude]}\r\n\r\n          />\r\n            )\r\n        }\r\n    }\r\n  \r\n    const userDatails = () => {\r\n        if(name && phone && address){\r\n            return (\r\n                <div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\">\r\n  <h6>{name}</h6>\r\n            <p>{phone}</p>\r\n            <div className=\"alert alert-light text-left\">\r\n            <p>\r\n                <strong>Address : </strong>\r\n                {address}\r\n            \r\n\r\n            </p>\r\n            \r\n</div>\r\n</div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const assignOrder = (orderId,fleetsId) => {\r\n        assignorderToUser(orderId,fleetsId).then(res => {\r\n            console.log(res)\r\n            if(res.error){\r\n                console.log(res.error)\r\n            }\r\n            setredirect(true)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"mt-5 text-center\">\r\n            <h3>Delivery order</h3>\r\n            <Link to={`/admin/shaji/dashboard/orders`}>\r\n                <button className=\"btn btn-warning\">\r\n            Back\r\n                </button>\r\n            </Link>\r\n            <div className=\"container delpick\">\r\n{userDatails()}\r\n{Object.keys(fleets).map((F,I)=>{\r\n                        return(\r\n                            <div className=\"mb-4 text-left\">\r\n                                <div className=\"card\">\r\n                                    {isRedirected()}\r\n                                    <div className=\"p-3 pb-1 pr-3 pl-3\">\r\n                                    <p>\r\n                                Name: {fleets[F].name}\r\n                                </p>\r\n                                <p>\r\n                                Phone: {fleets[F].phone}\r\n                                </p>\r\n                                        </div>\r\n                                <div className=\"text-right\">\r\n                                   \r\n                                    <button onClick={()=>{assignOrder(match.params.orderId,fleets[F]._id)}} className=\"btn btn-info\">\r\n                                        Assign to {fleets[F].name}\r\n                                    </button>\r\n                            \r\n                                   \r\n                                    </div>\r\n                                    </div>\r\n                               \r\n    \r\n      \r\n   \r\n                         </div>\r\n\r\n                        )\r\n                    })}\r\n{showUserMap()}\r\n            </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}