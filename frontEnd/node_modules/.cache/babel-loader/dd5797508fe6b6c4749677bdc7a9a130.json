{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { forwardRef, useCallback, useMemo } from \"react\";\nimport cn from \"classnames\";\nimport { useIcon } from \"@react-md/icon\";\nimport { useFixedPositioning } from \"@react-md/transition\";\nimport { bem, BELOW_CENTER_ANCHOR, DEFAULT_GET_ITEM_VALUE, useCloseOnOutsideClick, useEnsuredRef, useToggle } from \"@react-md/utils\";\nimport FloatingLabel from \"../label/FloatingLabel\";\nimport TextFieldContainer from \"../text-field/TextFieldContainer\";\nimport useFocusState from \"../useFocusState\";\nimport Listbox from \"./Listbox\";\nimport { defaultIsOptionDisabled, getDisplayLabel as DEFAULT_GET_DISPLAY_LABEL, getOptionId as DEFAULT_GET_OPTION_ID, getOptionLabel as DEFAULT_GET_OPTION_LABEL } from \"./utils\";\nimport { useFormTheme } from \"../FormThemeProvider\";\nvar block = bem(\"rmd-select\");\n/**\n * This component is an accessible version of the `<select>` element that allows\n * for some more custom styles by using the `@react-md/list` package to render\n * the list of options.\n *\n * The `Select` component **must be controlled** with a `value` and `onChange`\n * handler.\n *\n * Note: Since this is not a native `<select>` component, the current value will\n * be rendered in an `<input type=\"hidden\" />` element so that the value can be\n * sent along in forms. It is highly recommended to always provide a `name` prop\n * so this value is sent.\n */\n\nvar Select = forwardRef(function Select(_a, forwardedRef) {\n  var onBlur = _a.onBlur,\n      onFocus = _a.onFocus,\n      onKeyDown = _a.onKeyDown,\n      onClick = _a.onClick,\n      className = _a.className,\n      label = _a.label,\n      labelStyle = _a.labelStyle,\n      labelClassName = _a.labelClassName,\n      displayLabelStyle = _a.displayLabelStyle,\n      displayLabelClassName = _a.displayLabelClassName,\n      listboxStyle = _a.listboxStyle,\n      listboxClassName = _a.listboxClassName,\n      _b = _a.anchor,\n      anchor = _b === void 0 ? BELOW_CENTER_ANCHOR : _b,\n      propTheme = _a.theme,\n      _c = _a.dense,\n      dense = _c === void 0 ? false : _c,\n      _d = _a.inline,\n      inline = _d === void 0 ? false : _d,\n      _e = _a.error,\n      error = _e === void 0 ? false : _e,\n      _f = _a.disabled,\n      disabled = _f === void 0 ? false : _f,\n      _g = _a.isLeftAddon,\n      isLeftAddon = _g === void 0 ? true : _g,\n      _h = _a.isRightAddon,\n      isRightAddon = _h === void 0 ? true : _h,\n      propUnderlineDirection = _a.underlineDirection,\n      _j = _a.listboxWidth,\n      listboxWidth = _j === void 0 ? \"equal\" : _j,\n      _k = _a.portal,\n      portal = _k === void 0 ? true : _k,\n      portalInto = _a.portalInto,\n      portalIntoId = _a.portalIntoId,\n      name = _a.name,\n      options = _a.options,\n      _l = _a.labelKey,\n      labelKey = _l === void 0 ? \"label\" : _l,\n      _m = _a.valueKey,\n      valueKey = _m === void 0 ? \"value\" : _m,\n      _o = _a.getOptionId,\n      getOptionId = _o === void 0 ? DEFAULT_GET_OPTION_ID : _o,\n      _p = _a.getOptionLabel,\n      getOptionLabel = _p === void 0 ? DEFAULT_GET_OPTION_LABEL : _p,\n      _q = _a.getOptionValue,\n      getOptionValue = _q === void 0 ? DEFAULT_GET_ITEM_VALUE : _q,\n      _r = _a.getDisplayLabel,\n      getDisplayLabel = _r === void 0 ? DEFAULT_GET_DISPLAY_LABEL : _r,\n      _s = _a.isOptionDisabled,\n      isOptionDisabled = _s === void 0 ? defaultIsOptionDisabled : _s,\n      _t = _a.disableLeftAddon,\n      disableLeftAddon = _t === void 0 ? false : _t,\n      _u = _a.disableMovementChange,\n      disableMovementChange = _u === void 0 ? false : _u,\n      _v = _a.closeOnResize,\n      closeOnResize = _v === void 0 ? false : _v,\n      _w = _a.closeOnScroll,\n      closeOnScroll = _w === void 0 ? false : _w,\n      readOnly = _a.readOnly,\n      placeholder = _a.placeholder,\n      value = _a.value,\n      onChange = _a.onChange,\n      propRightChildren = _a.rightChildren,\n      props = __rest(_a, [\"onBlur\", \"onFocus\", \"onKeyDown\", \"onClick\", \"className\", \"label\", \"labelStyle\", \"labelClassName\", \"displayLabelStyle\", \"displayLabelClassName\", \"listboxStyle\", \"listboxClassName\", \"anchor\", \"theme\", \"dense\", \"inline\", \"error\", \"disabled\", \"isLeftAddon\", \"isRightAddon\", \"underlineDirection\", \"listboxWidth\", \"portal\", \"portalInto\", \"portalIntoId\", \"name\", \"options\", \"labelKey\", \"valueKey\", \"getOptionId\", \"getOptionLabel\", \"getOptionValue\", \"getDisplayLabel\", \"isOptionDisabled\", \"disableLeftAddon\", \"disableMovementChange\", \"closeOnResize\", \"closeOnScroll\", \"readOnly\", \"placeholder\", \"value\", \"onChange\", \"rightChildren\"]);\n\n  var id = props.id;\n  var rightChildren = useIcon(\"dropdown\", propRightChildren);\n\n  var _x = useFormTheme({\n    theme: propTheme,\n    underlineDirection: propUnderlineDirection\n  }),\n      theme = _x.theme,\n      underlineDirection = _x.underlineDirection;\n\n  var valued = typeof value === \"number\" || !!value;\n  var displayValue = useMemo(function () {\n    var currentOption = options.find(function (option) {\n      return getOptionValue(option, valueKey) === value;\n    }) || null;\n    return getDisplayLabel(currentOption, labelKey, !disableLeftAddon);\n  }, [options, getDisplayLabel, labelKey, disableLeftAddon, getOptionValue, valueKey, value]);\n\n  var _y = useToggle(false),\n      visible = _y[0],\n      show = _y[1],\n      hide = _y[2];\n\n  var _z = useFocusState({\n    onBlur: onBlur,\n    onFocus: onFocus\n  }),\n      focused = _z[0],\n      handleFocus = _z[1],\n      handleBlur = _z[2];\n\n  var handleKeyDown = useCallback(function (event) {\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n\n    switch (event.key) {\n      case \" \":\n      case \"ArrowUp\":\n      case \"ArrowDown\":\n        // prevent page scroll\n        event.preventDefault();\n        show();\n        break;\n\n      case \"Enter\":\n        {\n          var form = event.currentTarget.closest(\"form\");\n\n          if (form) {\n            // the default behavior of pressing the \"Enter\" key on a form\n            // control (input, textarea, select) is to submit a form, so that's\n            // what this is attempting to polyfill. Unfortunately, using the\n            // form.submit() ignores any `onSubmit` handlers like\n            // event.preventDefault() so to work around that, try to first find\n            // a submit button and click that instead. If there isn't a submit\n            // button as a child of the form, try to find a submit button that\n            // has the form attribute set to this current form's id.\n            var submit = form.querySelector('[type=\"submit\"]');\n\n            if (!submit && form.id) {\n              submit = document.querySelector(\"[type=\\\"submit\\\"][form=\\\"\" + form.id + \"\\\"]\");\n            }\n\n            if (submit) {\n              submit.click();\n            }\n          }\n\n          break;\n        }\n      // no default\n    }\n  }, [onKeyDown, show]);\n\n  var _0 = useEnsuredRef(forwardedRef),\n      ref = _0[0],\n      refHandler = _0[1];\n\n  useCloseOnOutsideClick({\n    enabled: visible,\n    element: ref.current,\n    onOutsideClick: hide\n  });\n\n  var _1 = useFixedPositioning({\n    fixedTo: function () {\n      return ref.current;\n    },\n    anchor: anchor,\n    onScroll: closeOnScroll ? hide : undefined,\n    onResize: closeOnResize ? hide : undefined,\n    transformOrigin: true,\n    width: listboxWidth,\n    onEntering: function (node) {\n      // can't do onEnter since the positioning styles haven't been applied to the\n      // dom node at this time. this means the list is the last element in the DOM\n      // when portalled, which causes the page to scroll to the end. Moving it to\n      // onEntering will ensure the styles have been applied and won't cause page\n      // scrolling\n      node.focus();\n    }\n  }),\n      fixedStyle = _1.style,\n      onEnter = _1.onEnter,\n      onEntering = _1.onEntering,\n      onEntered = _1.onEntered,\n      onExited = _1.onExited;\n\n  var handleClick = useCallback(function (event) {\n    if (onClick) {\n      onClick(event);\n    }\n\n    show();\n  }, [onClick, show]);\n  var handleKeyboardClose = useCallback(function () {\n    hide();\n\n    if (ref.current) {\n      ref.current.focus();\n    }\n  }, [hide, ref]);\n  var labelId = id + \"-label\";\n  var valueId = id + \"-value\";\n  var listboxId = id + \"-listbox\";\n  var displayValueId = id + \"-display-value\";\n  return React.createElement(React.Fragment, null, React.createElement(TextFieldContainer, __assign({}, props, {\n    \"aria-haspopup\": \"listbox\",\n    \"aria-disabled\": disabled || undefined,\n    ref: refHandler,\n    role: \"button\",\n    tabIndex: disabled ? undefined : 0,\n    label: !!label,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onKeyDown: disabled ? undefined : handleKeyDown,\n    onClick: disabled ? undefined : handleClick,\n    theme: theme,\n    error: error,\n    active: focused || visible,\n    inline: inline,\n    disabled: disabled,\n    underlineDirection: underlineDirection,\n    isLeftAddon: isLeftAddon,\n    isRightAddon: isRightAddon,\n    rightChildren: rightChildren,\n    className: cn(block({\n      disabled: disabled\n    }), className)\n  }), React.createElement(FloatingLabel, {\n    id: labelId,\n    style: labelStyle,\n    className: cn(block(\"label\"), labelClassName),\n    htmlFor: id,\n    error: error,\n    active: valued && (focused || visible),\n    valued: valued,\n    floating: focused || valued || visible,\n    dense: dense,\n    disabled: disabled,\n    component: \"span\"\n  }, label), React.createElement(\"span\", {\n    id: displayValueId,\n    style: displayLabelStyle,\n    className: cn(block(\"value\", {\n      disabled: disabled,\n      readonly: readOnly,\n      placeholder: !valued && placeholder,\n      \"placeholder-active\": !valued && placeholder && (focused || visible)\n    }), displayLabelClassName)\n  }, displayValue || !valued && placeholder), React.createElement(\"input\", {\n    id: valueId,\n    type: \"hidden\",\n    name: name,\n    value: value\n  })), React.createElement(Listbox, {\n    id: listboxId,\n    \"aria-labelledby\": id,\n    style: __assign(__assign({}, fixedStyle), listboxStyle),\n    className: listboxClassName,\n    name: name,\n    portal: portal,\n    portalInto: portalInto,\n    portalIntoId: portalIntoId,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExited: onExited,\n    value: value,\n    onChange: onChange,\n    visible: visible,\n    temporary: true,\n    onRequestClose: handleKeyboardClose,\n    options: options,\n    labelKey: labelKey,\n    valueKey: valueKey,\n    getOptionId: getOptionId,\n    getOptionLabel: getOptionLabel,\n    getOptionValue: getOptionValue,\n    isOptionDisabled: isOptionDisabled,\n    disableMovementChange: disableMovementChange\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  try {\n    var PropTypes = require(\"prop-types\");\n\n    Select.propTypes = {\n      id: PropTypes.string.isRequired,\n      style: PropTypes.object,\n      className: PropTypes.string,\n      labelStyle: PropTypes.object,\n      labelClassName: PropTypes.string,\n      listboxStyle: PropTypes.object,\n      listboxClassName: PropTypes.string,\n      displayLabelStyle: PropTypes.object,\n      displayLabelClassName: PropTypes.string,\n      label: PropTypes.node,\n      portal: PropTypes.bool,\n      portalInto: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]),\n      portalIntoId: PropTypes.string,\n      labelKey: PropTypes.string,\n      valueKey: PropTypes.string,\n      getOptionId: PropTypes.func,\n      getOptionLabel: PropTypes.func,\n      getOptionValue: PropTypes.func,\n      getDisplayLabel: PropTypes.func,\n      isOptionDisabled: PropTypes.func,\n      disableLeftAddon: PropTypes.bool,\n      disableMovementChange: PropTypes.bool,\n      theme: PropTypes.oneOf([\"none\", \"underline\", \"filled\", \"outline\"]),\n      dense: PropTypes.bool,\n      error: PropTypes.bool,\n      inline: PropTypes.bool,\n      readOnly: PropTypes.bool,\n      disabled: PropTypes.bool,\n      placeholder: PropTypes.node,\n      underlineDirection: PropTypes.oneOf([\"left\", \"center\", \"right\"]),\n      leftChildren: PropTypes.node,\n      rightChildren: PropTypes.node,\n      isLeftAddon: PropTypes.bool,\n      isRightAddon: PropTypes.bool,\n      closeOnResize: PropTypes.bool,\n      closeOnScroll: PropTypes.bool,\n      anchor: PropTypes.shape({\n        x: PropTypes.oneOf([\"inner-left\", \"inner-right\", \"center\", \"left\", \"right\"]),\n        y: PropTypes.oneOf([\"above\", \"below\", \"center\", \"top\", \"bottom\"])\n      }),\n      listboxWidth: PropTypes.oneOf([\"equal\", \"min\", \"auto\"]),\n      name: PropTypes.string,\n      options: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.object])).isRequired,\n      onBlur: PropTypes.func,\n      onFocus: PropTypes.func,\n      onKeyDown: PropTypes.func,\n      onClick: PropTypes.func,\n      value: PropTypes.string.isRequired,\n      onChange: PropTypes.func.isRequired\n    };\n  } catch (e) {}\n}\n\nexport default Select;","map":{"version":3,"sources":["../../src/select/Select.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, useCallback, useMemo, } from \"react\";\nimport cn from \"classnames\";\nimport { useIcon } from \"@react-md/icon\";\nimport { useFixedPositioning } from \"@react-md/transition\";\nimport { bem, BELOW_CENTER_ANCHOR, DEFAULT_GET_ITEM_VALUE, useCloseOnOutsideClick, useEnsuredRef, useToggle, } from \"@react-md/utils\";\nimport FloatingLabel from \"../label/FloatingLabel\";\nimport TextFieldContainer from \"../text-field/TextFieldContainer\";\nimport useFocusState from \"../useFocusState\";\nimport Listbox from \"./Listbox\";\nimport { defaultIsOptionDisabled, getDisplayLabel as DEFAULT_GET_DISPLAY_LABEL, getOptionId as DEFAULT_GET_OPTION_ID, getOptionLabel as DEFAULT_GET_OPTION_LABEL, } from \"./utils\";\nimport { useFormTheme } from \"../FormThemeProvider\";\nvar block = bem(\"rmd-select\");\n/**\n * This component is an accessible version of the `<select>` element that allows\n * for some more custom styles by using the `@react-md/list` package to render\n * the list of options.\n *\n * The `Select` component **must be controlled** with a `value` and `onChange`\n * handler.\n *\n * Note: Since this is not a native `<select>` component, the current value will\n * be rendered in an `<input type=\"hidden\" />` element so that the value can be\n * sent along in forms. It is highly recommended to always provide a `name` prop\n * so this value is sent.\n */\nvar Select = forwardRef(function Select(_a, forwardedRef) {\n    var onBlur = _a.onBlur, onFocus = _a.onFocus, onKeyDown = _a.onKeyDown, onClick = _a.onClick, className = _a.className, label = _a.label, labelStyle = _a.labelStyle, labelClassName = _a.labelClassName, displayLabelStyle = _a.displayLabelStyle, displayLabelClassName = _a.displayLabelClassName, listboxStyle = _a.listboxStyle, listboxClassName = _a.listboxClassName, _b = _a.anchor, anchor = _b === void 0 ? BELOW_CENTER_ANCHOR : _b, propTheme = _a.theme, _c = _a.dense, dense = _c === void 0 ? false : _c, _d = _a.inline, inline = _d === void 0 ? false : _d, _e = _a.error, error = _e === void 0 ? false : _e, _f = _a.disabled, disabled = _f === void 0 ? false : _f, _g = _a.isLeftAddon, isLeftAddon = _g === void 0 ? true : _g, _h = _a.isRightAddon, isRightAddon = _h === void 0 ? true : _h, propUnderlineDirection = _a.underlineDirection, _j = _a.listboxWidth, listboxWidth = _j === void 0 ? \"equal\" : _j, _k = _a.portal, portal = _k === void 0 ? true : _k, portalInto = _a.portalInto, portalIntoId = _a.portalIntoId, name = _a.name, options = _a.options, _l = _a.labelKey, labelKey = _l === void 0 ? \"label\" : _l, _m = _a.valueKey, valueKey = _m === void 0 ? \"value\" : _m, _o = _a.getOptionId, getOptionId = _o === void 0 ? DEFAULT_GET_OPTION_ID : _o, _p = _a.getOptionLabel, getOptionLabel = _p === void 0 ? DEFAULT_GET_OPTION_LABEL : _p, _q = _a.getOptionValue, getOptionValue = _q === void 0 ? DEFAULT_GET_ITEM_VALUE : _q, _r = _a.getDisplayLabel, getDisplayLabel = _r === void 0 ? DEFAULT_GET_DISPLAY_LABEL : _r, _s = _a.isOptionDisabled, isOptionDisabled = _s === void 0 ? defaultIsOptionDisabled : _s, _t = _a.disableLeftAddon, disableLeftAddon = _t === void 0 ? false : _t, _u = _a.disableMovementChange, disableMovementChange = _u === void 0 ? false : _u, _v = _a.closeOnResize, closeOnResize = _v === void 0 ? false : _v, _w = _a.closeOnScroll, closeOnScroll = _w === void 0 ? false : _w, readOnly = _a.readOnly, placeholder = _a.placeholder, value = _a.value, onChange = _a.onChange, propRightChildren = _a.rightChildren, props = __rest(_a, [\"onBlur\", \"onFocus\", \"onKeyDown\", \"onClick\", \"className\", \"label\", \"labelStyle\", \"labelClassName\", \"displayLabelStyle\", \"displayLabelClassName\", \"listboxStyle\", \"listboxClassName\", \"anchor\", \"theme\", \"dense\", \"inline\", \"error\", \"disabled\", \"isLeftAddon\", \"isRightAddon\", \"underlineDirection\", \"listboxWidth\", \"portal\", \"portalInto\", \"portalIntoId\", \"name\", \"options\", \"labelKey\", \"valueKey\", \"getOptionId\", \"getOptionLabel\", \"getOptionValue\", \"getDisplayLabel\", \"isOptionDisabled\", \"disableLeftAddon\", \"disableMovementChange\", \"closeOnResize\", \"closeOnScroll\", \"readOnly\", \"placeholder\", \"value\", \"onChange\", \"rightChildren\"]);\n    var id = props.id;\n    var rightChildren = useIcon(\"dropdown\", propRightChildren);\n    var _x = useFormTheme({\n        theme: propTheme,\n        underlineDirection: propUnderlineDirection,\n    }), theme = _x.theme, underlineDirection = _x.underlineDirection;\n    var valued = typeof value === \"number\" || !!value;\n    var displayValue = useMemo(function () {\n        var currentOption = options.find(function (option) { return getOptionValue(option, valueKey) === value; }) ||\n            null;\n        return getDisplayLabel(currentOption, labelKey, !disableLeftAddon);\n    }, [\n        options,\n        getDisplayLabel,\n        labelKey,\n        disableLeftAddon,\n        getOptionValue,\n        valueKey,\n        value,\n    ]);\n    var _y = useToggle(false), visible = _y[0], show = _y[1], hide = _y[2];\n    var _z = useFocusState({ onBlur: onBlur, onFocus: onFocus }), focused = _z[0], handleFocus = _z[1], handleBlur = _z[2];\n    var handleKeyDown = useCallback(function (event) {\n        if (onKeyDown) {\n            onKeyDown(event);\n        }\n        switch (event.key) {\n            case \" \":\n            case \"ArrowUp\":\n            case \"ArrowDown\":\n                // prevent page scroll\n                event.preventDefault();\n                show();\n                break;\n            case \"Enter\": {\n                var form = event.currentTarget.closest(\"form\");\n                if (form) {\n                    // the default behavior of pressing the \"Enter\" key on a form\n                    // control (input, textarea, select) is to submit a form, so that's\n                    // what this is attempting to polyfill. Unfortunately, using the\n                    // form.submit() ignores any `onSubmit` handlers like\n                    // event.preventDefault() so to work around that, try to first find\n                    // a submit button and click that instead. If there isn't a submit\n                    // button as a child of the form, try to find a submit button that\n                    // has the form attribute set to this current form's id.\n                    var submit = form.querySelector('[type=\"submit\"]');\n                    if (!submit && form.id) {\n                        submit = document.querySelector(\"[type=\\\"submit\\\"][form=\\\"\" + form.id + \"\\\"]\");\n                    }\n                    if (submit) {\n                        submit.click();\n                    }\n                }\n                break;\n            }\n            // no default\n        }\n    }, [onKeyDown, show]);\n    var _0 = useEnsuredRef(forwardedRef), ref = _0[0], refHandler = _0[1];\n    useCloseOnOutsideClick({\n        enabled: visible,\n        element: ref.current,\n        onOutsideClick: hide,\n    });\n    var _1 = useFixedPositioning({\n        fixedTo: function () { return ref.current; },\n        anchor: anchor,\n        onScroll: closeOnScroll ? hide : undefined,\n        onResize: closeOnResize ? hide : undefined,\n        transformOrigin: true,\n        width: listboxWidth,\n        onEntering: function (node) {\n            // can't do onEnter since the positioning styles haven't been applied to the\n            // dom node at this time. this means the list is the last element in the DOM\n            // when portalled, which causes the page to scroll to the end. Moving it to\n            // onEntering will ensure the styles have been applied and won't cause page\n            // scrolling\n            node.focus();\n        },\n    }), fixedStyle = _1.style, onEnter = _1.onEnter, onEntering = _1.onEntering, onEntered = _1.onEntered, onExited = _1.onExited;\n    var handleClick = useCallback(function (event) {\n        if (onClick) {\n            onClick(event);\n        }\n        show();\n    }, [onClick, show]);\n    var handleKeyboardClose = useCallback(function () {\n        hide();\n        if (ref.current) {\n            ref.current.focus();\n        }\n    }, [hide, ref]);\n    var labelId = id + \"-label\";\n    var valueId = id + \"-value\";\n    var listboxId = id + \"-listbox\";\n    var displayValueId = id + \"-display-value\";\n    return (React.createElement(React.Fragment, null,\n        React.createElement(TextFieldContainer, __assign({}, props, { \"aria-haspopup\": \"listbox\", \"aria-disabled\": disabled || undefined, ref: refHandler, role: \"button\", tabIndex: disabled ? undefined : 0, label: !!label, onFocus: handleFocus, onBlur: handleBlur, onKeyDown: disabled ? undefined : handleKeyDown, onClick: disabled ? undefined : handleClick, theme: theme, error: error, active: focused || visible, inline: inline, disabled: disabled, underlineDirection: underlineDirection, isLeftAddon: isLeftAddon, isRightAddon: isRightAddon, rightChildren: rightChildren, className: cn(block({ disabled: disabled }), className) }),\n            React.createElement(FloatingLabel, { id: labelId, style: labelStyle, className: cn(block(\"label\"), labelClassName), htmlFor: id, error: error, active: valued && (focused || visible), valued: valued, floating: focused || valued || visible, dense: dense, disabled: disabled, component: \"span\" }, label),\n            React.createElement(\"span\", { id: displayValueId, style: displayLabelStyle, className: cn(block(\"value\", {\n                    disabled: disabled,\n                    readonly: readOnly,\n                    placeholder: !valued && placeholder,\n                    \"placeholder-active\": !valued && placeholder && (focused || visible),\n                }), displayLabelClassName) }, displayValue || (!valued && placeholder)),\n            React.createElement(\"input\", { id: valueId, type: \"hidden\", name: name, value: value })),\n        React.createElement(Listbox, { id: listboxId, \"aria-labelledby\": id, style: __assign(__assign({}, fixedStyle), listboxStyle), className: listboxClassName, name: name, portal: portal, portalInto: portalInto, portalIntoId: portalIntoId, onEnter: onEnter, onEntering: onEntering, onEntered: onEntered, onExited: onExited, value: value, onChange: onChange, visible: visible, temporary: true, onRequestClose: handleKeyboardClose, options: options, labelKey: labelKey, valueKey: valueKey, getOptionId: getOptionId, getOptionLabel: getOptionLabel, getOptionValue: getOptionValue, isOptionDisabled: isOptionDisabled, disableMovementChange: disableMovementChange })));\n});\nif (process.env.NODE_ENV !== \"production\") {\n    try {\n        var PropTypes = require(\"prop-types\");\n        Select.propTypes = {\n            id: PropTypes.string.isRequired,\n            style: PropTypes.object,\n            className: PropTypes.string,\n            labelStyle: PropTypes.object,\n            labelClassName: PropTypes.string,\n            listboxStyle: PropTypes.object,\n            listboxClassName: PropTypes.string,\n            displayLabelStyle: PropTypes.object,\n            displayLabelClassName: PropTypes.string,\n            label: PropTypes.node,\n            portal: PropTypes.bool,\n            portalInto: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.object,\n                PropTypes.func,\n            ]),\n            portalIntoId: PropTypes.string,\n            labelKey: PropTypes.string,\n            valueKey: PropTypes.string,\n            getOptionId: PropTypes.func,\n            getOptionLabel: PropTypes.func,\n            getOptionValue: PropTypes.func,\n            getDisplayLabel: PropTypes.func,\n            isOptionDisabled: PropTypes.func,\n            disableLeftAddon: PropTypes.bool,\n            disableMovementChange: PropTypes.bool,\n            theme: PropTypes.oneOf([\"none\", \"underline\", \"filled\", \"outline\"]),\n            dense: PropTypes.bool,\n            error: PropTypes.bool,\n            inline: PropTypes.bool,\n            readOnly: PropTypes.bool,\n            disabled: PropTypes.bool,\n            placeholder: PropTypes.node,\n            underlineDirection: PropTypes.oneOf([\"left\", \"center\", \"right\"]),\n            leftChildren: PropTypes.node,\n            rightChildren: PropTypes.node,\n            isLeftAddon: PropTypes.bool,\n            isRightAddon: PropTypes.bool,\n            closeOnResize: PropTypes.bool,\n            closeOnScroll: PropTypes.bool,\n            anchor: PropTypes.shape({\n                x: PropTypes.oneOf([\n                    \"inner-left\",\n                    \"inner-right\",\n                    \"center\",\n                    \"left\",\n                    \"right\",\n                ]),\n                y: PropTypes.oneOf([\"above\", \"below\", \"center\", \"top\", \"bottom\"]),\n            }),\n            listboxWidth: PropTypes.oneOf([\"equal\", \"min\", \"auto\"]),\n            name: PropTypes.string,\n            options: PropTypes.arrayOf(PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number,\n                PropTypes.object,\n            ])).isRequired,\n            onBlur: PropTypes.func,\n            onFocus: PropTypes.func,\n            onKeyDown: PropTypes.func,\n            onClick: PropTypes.func,\n            value: PropTypes.string.isRequired,\n            onChange: PropTypes.func.isRequired,\n        };\n    }\n    catch (e) { }\n}\nexport default Select;\n//# sourceMappingURL=Select.js.map"]},"metadata":{},"sourceType":"module"}