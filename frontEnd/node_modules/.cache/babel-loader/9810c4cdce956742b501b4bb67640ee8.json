{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\nimport React, { forwardRef, useState, useRef } from \"react\";\nimport cn from \"classnames\";\nimport { ScaleTransition, useFixedPositioning } from \"@react-md/transition\";\nimport { bem, CENTER_CENTER_ANCHOR, TOP_INNER_RIGHT_ANCHOR } from \"@react-md/utils\";\nimport MenuEvents from \"./MenuEvents\";\nimport { OrientationProvider } from \"./Orientation\";\nimport useMenu from \"./useMenu\";\nvar block = bem(\"rmd-menu\");\n/**\n * The `Menu` component is a fully controlled component that will animate in and\n * out based on the `visible` prop as well as handle keyboard focus, closing\n * when needed, etc.\n */\n\nvar Menu = forwardRef(function Menu(_a, forwardedRef) {\n  var _b = _a.role,\n      role = _b === void 0 ? \"menu\" : _b,\n      _c = _a.tabIndex,\n      tabIndex = _c === void 0 ? -1 : _c,\n      controlId = _a.controlId,\n      className = _a.className,\n      visible = _a.visible,\n      onRequestClose = _a.onRequestClose,\n      children = _a.children,\n      portal = _a.portal,\n      portalInto = _a.portalInto,\n      portalIntoId = _a.portalIntoId,\n      _d = _a.mountOnEnter,\n      mountOnEnter = _d === void 0 ? true : _d,\n      _e = _a.unmountOnExit,\n      unmountOnExit = _e === void 0 ? true : _e,\n      propOnEnter = _a.onEnter,\n      propOnEntering = _a.onEntering,\n      propOnEntered = _a.onEntered,\n      onExit = _a.onExit,\n      onExiting = _a.onExiting,\n      propOnExited = _a.onExited,\n      timeout = _a.timeout,\n      classNames = _a.classNames,\n      propAnchor = _a.anchor,\n      propOnClick = _a.onClick,\n      propOnKeyDown = _a.onKeyDown,\n      _f = _a.defaultFocus,\n      defaultFocus = _f === void 0 ? \"first\" : _f,\n      _g = _a.horizontal,\n      horizontal = _g === void 0 ? false : _g,\n      positionOptions = _a.positionOptions,\n      _h = _a.closeOnScroll,\n      closeOnScroll = _h === void 0 ? false : _h,\n      _j = _a.closeOnResize,\n      closeOnResize = _j === void 0 ? false : _j,\n      _k = _a.disableControlClickOkay,\n      disableControlClickOkay = _k === void 0 ? false : _k,\n      props = __rest(_a, [\"role\", \"tabIndex\", \"controlId\", \"className\", \"visible\", \"onRequestClose\", \"children\", \"portal\", \"portalInto\", \"portalIntoId\", \"mountOnEnter\", \"unmountOnExit\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"timeout\", \"classNames\", \"anchor\", \"onClick\", \"onKeyDown\", \"defaultFocus\", \"horizontal\", \"positionOptions\", \"closeOnScroll\", \"closeOnResize\", \"disableControlClickOkay\"]);\n\n  var anchor = propAnchor;\n\n  if (!anchor) {\n    anchor = horizontal ? CENTER_CENTER_ANCHOR : TOP_INNER_RIGHT_ANCHOR;\n  } // TODO: Refactor all the menu functionality since I made this when I had no\n  // idea what I was doing with hooks\n\n\n  var _l = useMenu({\n    ref: forwardedRef,\n    visible: visible,\n    controlId: controlId,\n    horizontal: horizontal,\n    onClick: propOnClick,\n    onKeyDown: propOnKeyDown,\n    portalled: portal || typeof portalInto !== \"undefined\" || !!portalIntoId,\n    defaultFocus: defaultFocus,\n    onRequestClose: onRequestClose,\n    disableControlClickOkay: disableControlClickOkay\n  }),\n      ref = _l.ref,\n      menuRef = _l.menuRef,\n      onClick = _l.onClick,\n      onKeyDown = _l.onKeyDown;\n\n  var _m = useState(false),\n      cancelled = _m[0],\n      setCancelled = _m[1];\n\n  var prevVisible = useRef(visible);\n\n  if (prevVisible.current !== visible) {\n    prevVisible.current = visible;\n\n    if (cancelled) {\n      setCancelled(false);\n    }\n  }\n\n  var _o = useFixedPositioning(__assign(__assign({}, positionOptions), {\n    fixedTo: function () {\n      return document.getElementById(controlId);\n    },\n    onScroll: function (_event, _a) {\n      var visible = _a.visible;\n\n      if (!closeOnScroll && visible) {\n        return;\n      }\n\n      if (!visible) {\n        setCancelled(true);\n      }\n\n      onRequestClose();\n    },\n    onResize: closeOnResize ? onRequestClose : undefined,\n    anchor: anchor,\n    onEnter: propOnEnter,\n    onEntering: propOnEntering,\n    onEntered: propOnEntered,\n    onExited: propOnExited,\n    transformOrigin: true\n  })),\n      style = _o.style,\n      onEnter = _o.onEnter,\n      onEntering = _o.onEntering,\n      onEntered = _o.onEntered,\n      onExited = _o.onExited;\n\n  var orientation = horizontal ? \"horizontal\" : \"vertical\";\n  return React.createElement(ScaleTransition, {\n    portal: portal,\n    portalInto: portalInto,\n    portalIntoId: portalIntoId,\n    appear: mountOnEnter,\n    visible: visible,\n    classNames: classNames,\n    timeout: timeout,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited,\n    mountOnEnter: mountOnEnter,\n    unmountOnExit: unmountOnExit\n  }, React.createElement(OrientationProvider, {\n    orientation: orientation\n  }, React.createElement(\"div\", __assign({}, props, {\n    \"aria-orientation\": orientation,\n    ref: ref,\n    role: role,\n    tabIndex: tabIndex,\n    style: style,\n    className: cn(block({\n      horizontal: horizontal\n    }), className),\n    onClick: onClick,\n    onKeyDown: onKeyDown\n  }), children, React.createElement(MenuEvents, {\n    menuRef: menuRef,\n    cancelled: cancelled,\n    defaultFocus: defaultFocus\n  }))));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  try {\n    var PropTypes = require(\"prop-types\");\n\n    Menu.propTypes = {\n      id: PropTypes.string.isRequired,\n      role: PropTypes.string,\n      className: PropTypes.string,\n      controlId: PropTypes.string.isRequired,\n      visible: PropTypes.bool.isRequired,\n      onRequestClose: PropTypes.func.isRequired,\n      \"aria-label\": PropTypes.string,\n      \"aria-labelledby\": PropTypes.string,\n      tabIndex: PropTypes.number,\n      anchor: PropTypes.shape({\n        x: PropTypes.oneOf([\"inner-left\", \"inner-right\", \"center\", \"left\", \"right\"]),\n        y: PropTypes.oneOf([\"above\", \"below\", \"center\", \"top\", \"bottom\"])\n      }),\n      positionOptions: PropTypes.shape({\n        xMargin: PropTypes.number,\n        yMargin: PropTypes.number,\n        vwMargin: PropTypes.number,\n        vhMargin: PropTypes.number,\n        disableSwapping: PropTypes.bool\n      }),\n      mountOnEnter: PropTypes.bool,\n      unmountOnExit: PropTypes.bool,\n      defaultFocus: PropTypes.oneOf([\"first\", \"last\"]),\n      classNames: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n        appear: PropTypes.string,\n        appearActive: PropTypes.string,\n        enter: PropTypes.string,\n        enterActive: PropTypes.string,\n        exit: PropTypes.string,\n        exitActive: PropTypes.string\n      })]),\n      timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n        enter: PropTypes.number,\n        exit: PropTypes.number\n      })]),\n      onClick: PropTypes.func,\n      onKeyDown: PropTypes.func,\n      children: PropTypes.node,\n      horizontal: PropTypes.bool,\n      onEnter: PropTypes.func,\n      onEntering: PropTypes.func,\n      onEntered: PropTypes.func,\n      onExit: PropTypes.func,\n      onExiting: PropTypes.func,\n      onExited: PropTypes.func,\n      portal: PropTypes.bool,\n      portalInto: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.object]),\n      portalIntoId: PropTypes.string,\n      closeOnScroll: PropTypes.bool,\n      closeOnResize: PropTypes.bool,\n      disableControlClickOkay: PropTypes.bool,\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      _a11yValidator: function (props, _propName, component) {\n        var label = props[\"aria-label\"];\n        var labelledBy = props[\"aria-labelledby\"];\n\n        if (label || labelledBy) {\n          return null;\n        }\n\n        return new Error(\"Either the `aria-label` or `aria-labelledby` props are required for accessibility in the \" + component + \" component, but neither were provided.\");\n      }\n    };\n  } catch (e) {}\n}\n\nexport default Menu;","map":{"version":3,"sources":["../src/Menu.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React, { forwardRef, useState, useRef } from \"react\";\nimport cn from \"classnames\";\nimport { ScaleTransition, useFixedPositioning, } from \"@react-md/transition\";\nimport { bem, CENTER_CENTER_ANCHOR, TOP_INNER_RIGHT_ANCHOR, } from \"@react-md/utils\";\nimport MenuEvents from \"./MenuEvents\";\nimport { OrientationProvider } from \"./Orientation\";\nimport useMenu from \"./useMenu\";\nvar block = bem(\"rmd-menu\");\n/**\n * The `Menu` component is a fully controlled component that will animate in and\n * out based on the `visible` prop as well as handle keyboard focus, closing\n * when needed, etc.\n */\nvar Menu = forwardRef(function Menu(_a, forwardedRef) {\n    var _b = _a.role, role = _b === void 0 ? \"menu\" : _b, _c = _a.tabIndex, tabIndex = _c === void 0 ? -1 : _c, controlId = _a.controlId, className = _a.className, visible = _a.visible, onRequestClose = _a.onRequestClose, children = _a.children, portal = _a.portal, portalInto = _a.portalInto, portalIntoId = _a.portalIntoId, _d = _a.mountOnEnter, mountOnEnter = _d === void 0 ? true : _d, _e = _a.unmountOnExit, unmountOnExit = _e === void 0 ? true : _e, propOnEnter = _a.onEnter, propOnEntering = _a.onEntering, propOnEntered = _a.onEntered, onExit = _a.onExit, onExiting = _a.onExiting, propOnExited = _a.onExited, timeout = _a.timeout, classNames = _a.classNames, propAnchor = _a.anchor, propOnClick = _a.onClick, propOnKeyDown = _a.onKeyDown, _f = _a.defaultFocus, defaultFocus = _f === void 0 ? \"first\" : _f, _g = _a.horizontal, horizontal = _g === void 0 ? false : _g, positionOptions = _a.positionOptions, _h = _a.closeOnScroll, closeOnScroll = _h === void 0 ? false : _h, _j = _a.closeOnResize, closeOnResize = _j === void 0 ? false : _j, _k = _a.disableControlClickOkay, disableControlClickOkay = _k === void 0 ? false : _k, props = __rest(_a, [\"role\", \"tabIndex\", \"controlId\", \"className\", \"visible\", \"onRequestClose\", \"children\", \"portal\", \"portalInto\", \"portalIntoId\", \"mountOnEnter\", \"unmountOnExit\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"timeout\", \"classNames\", \"anchor\", \"onClick\", \"onKeyDown\", \"defaultFocus\", \"horizontal\", \"positionOptions\", \"closeOnScroll\", \"closeOnResize\", \"disableControlClickOkay\"]);\n    var anchor = propAnchor;\n    if (!anchor) {\n        anchor = horizontal ? CENTER_CENTER_ANCHOR : TOP_INNER_RIGHT_ANCHOR;\n    }\n    // TODO: Refactor all the menu functionality since I made this when I had no\n    // idea what I was doing with hooks\n    var _l = useMenu({\n        ref: forwardedRef,\n        visible: visible,\n        controlId: controlId,\n        horizontal: horizontal,\n        onClick: propOnClick,\n        onKeyDown: propOnKeyDown,\n        portalled: portal || typeof portalInto !== \"undefined\" || !!portalIntoId,\n        defaultFocus: defaultFocus,\n        onRequestClose: onRequestClose,\n        disableControlClickOkay: disableControlClickOkay,\n    }), ref = _l.ref, menuRef = _l.menuRef, onClick = _l.onClick, onKeyDown = _l.onKeyDown;\n    var _m = useState(false), cancelled = _m[0], setCancelled = _m[1];\n    var prevVisible = useRef(visible);\n    if (prevVisible.current !== visible) {\n        prevVisible.current = visible;\n        if (cancelled) {\n            setCancelled(false);\n        }\n    }\n    var _o = useFixedPositioning(__assign(__assign({}, positionOptions), { fixedTo: function () { return document.getElementById(controlId); }, onScroll: function (_event, _a) {\n            var visible = _a.visible;\n            if (!closeOnScroll && visible) {\n                return;\n            }\n            if (!visible) {\n                setCancelled(true);\n            }\n            onRequestClose();\n        }, onResize: closeOnResize ? onRequestClose : undefined, anchor: anchor, onEnter: propOnEnter, onEntering: propOnEntering, onEntered: propOnEntered, onExited: propOnExited, transformOrigin: true })), style = _o.style, onEnter = _o.onEnter, onEntering = _o.onEntering, onEntered = _o.onEntered, onExited = _o.onExited;\n    var orientation = horizontal ? \"horizontal\" : \"vertical\";\n    return (React.createElement(ScaleTransition, { portal: portal, portalInto: portalInto, portalIntoId: portalIntoId, appear: mountOnEnter, visible: visible, classNames: classNames, timeout: timeout, onEnter: onEnter, onEntering: onEntering, onEntered: onEntered, onExit: onExit, onExiting: onExiting, onExited: onExited, mountOnEnter: mountOnEnter, unmountOnExit: unmountOnExit },\n        React.createElement(OrientationProvider, { orientation: orientation },\n            React.createElement(\"div\", __assign({}, props, { \"aria-orientation\": orientation, ref: ref, role: role, tabIndex: tabIndex, style: style, className: cn(block({ horizontal: horizontal }), className), onClick: onClick, onKeyDown: onKeyDown }),\n                children,\n                React.createElement(MenuEvents, { menuRef: menuRef, cancelled: cancelled, defaultFocus: defaultFocus })))));\n});\nif (process.env.NODE_ENV !== \"production\") {\n    try {\n        var PropTypes = require(\"prop-types\");\n        Menu.propTypes = {\n            id: PropTypes.string.isRequired,\n            role: PropTypes.string,\n            className: PropTypes.string,\n            controlId: PropTypes.string.isRequired,\n            visible: PropTypes.bool.isRequired,\n            onRequestClose: PropTypes.func.isRequired,\n            \"aria-label\": PropTypes.string,\n            \"aria-labelledby\": PropTypes.string,\n            tabIndex: PropTypes.number,\n            anchor: PropTypes.shape({\n                x: PropTypes.oneOf([\n                    \"inner-left\",\n                    \"inner-right\",\n                    \"center\",\n                    \"left\",\n                    \"right\",\n                ]),\n                y: PropTypes.oneOf([\"above\", \"below\", \"center\", \"top\", \"bottom\"]),\n            }),\n            positionOptions: PropTypes.shape({\n                xMargin: PropTypes.number,\n                yMargin: PropTypes.number,\n                vwMargin: PropTypes.number,\n                vhMargin: PropTypes.number,\n                disableSwapping: PropTypes.bool,\n            }),\n            mountOnEnter: PropTypes.bool,\n            unmountOnExit: PropTypes.bool,\n            defaultFocus: PropTypes.oneOf([\"first\", \"last\"]),\n            classNames: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.shape({\n                    appear: PropTypes.string,\n                    appearActive: PropTypes.string,\n                    enter: PropTypes.string,\n                    enterActive: PropTypes.string,\n                    exit: PropTypes.string,\n                    exitActive: PropTypes.string,\n                }),\n            ]),\n            timeout: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.shape({\n                    enter: PropTypes.number,\n                    exit: PropTypes.number,\n                }),\n            ]),\n            onClick: PropTypes.func,\n            onKeyDown: PropTypes.func,\n            children: PropTypes.node,\n            horizontal: PropTypes.bool,\n            onEnter: PropTypes.func,\n            onEntering: PropTypes.func,\n            onEntered: PropTypes.func,\n            onExit: PropTypes.func,\n            onExiting: PropTypes.func,\n            onExited: PropTypes.func,\n            portal: PropTypes.bool,\n            portalInto: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.func,\n                PropTypes.object,\n            ]),\n            portalIntoId: PropTypes.string,\n            closeOnScroll: PropTypes.bool,\n            closeOnResize: PropTypes.bool,\n            disableControlClickOkay: PropTypes.bool,\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            _a11yValidator: function (props, _propName, component) {\n                var label = props[\"aria-label\"];\n                var labelledBy = props[\"aria-labelledby\"];\n                if (label || labelledBy) {\n                    return null;\n                }\n                return new Error(\"Either the `aria-label` or `aria-labelledby` props are required for accessibility in the \" + component + \" component, but neither were provided.\");\n            },\n        };\n    }\n    catch (e) { }\n}\nexport default Menu;\n//# sourceMappingURL=Menu.js.map"]},"metadata":{},"sourceType":"module"}