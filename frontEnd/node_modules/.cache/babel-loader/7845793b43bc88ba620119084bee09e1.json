{"ast":null,"code":"import { useCallback } from \"react\";\nimport { useRefCache } from \"@react-md/utils\";\nimport useVisibility from \"./useVisibility\";\nexport default function useItemVisibility(_a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.horizontal,\n      horizontal = _c === void 0 ? false : _c,\n      propOnClick = _b.onClick,\n      propOnKeyDown = _b.onKeyDown,\n      defaultVisible = _b.defaultVisible,\n      propDefaultFocus = _b.defaultFocus,\n      onVisibilityChange = _b.onVisibilityChange;\n\n  var cache = useRefCache({\n    horizontal: horizontal,\n    onClick: propOnClick,\n    onKeyDown: propOnKeyDown\n  });\n\n  var _d = useVisibility({\n    defaultVisible: defaultVisible,\n    defaultFocus: propDefaultFocus,\n    onVisibilityChange: onVisibilityChange\n  }),\n      visible = _d.visible,\n      defaultFocus = _d.defaultFocus,\n      hide = _d.hide,\n      showWithFocus = _d.showWithFocus,\n      toggle = _d.toggle;\n\n  var onClick = useCallback(function (event) {\n    var onClick = cache.current.onClick;\n\n    if (onClick) {\n      onClick(event);\n    }\n\n    toggle();\n  }, // disabled since useRefCache\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [toggle]);\n  var onKeyDown = useCallback(function (event) {\n    var _a = cache.current,\n        onKeyDown = _a.onKeyDown,\n        horizontal = _a.horizontal;\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n\n    var firstKey = horizontal ? \"ArrowDown\" : \"ArrowRight\";\n    var lastKey = horizontal ? \"ArrowUp\" : \"ArrowLeft\";\n\n    if (event.key !== firstKey && event.key !== lastKey) {\n      return;\n    } // don't want to trigger default behavior of screen scrolling\n\n\n    event.preventDefault(); // don't want parent menus to be effected by this as well.\n\n    event.stopPropagation();\n    showWithFocus(event.key === firstKey ? \"first\" : \"last\");\n  }, // disabled since useRefCache\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [showWithFocus]);\n  return {\n    visible: visible,\n    defaultFocus: defaultFocus,\n    hide: hide,\n    onClick: onClick,\n    onKeyDown: onKeyDown\n  };\n}","map":{"version":3,"sources":["../src/useItemVisibility.ts"],"names":[],"mappings":"AAAA,SAAyB,WAAzB,QAA4C,OAA5C;AACA,SAAS,WAAT,QAA4B,iBAA5B;AAEA,OAAO,aAAP,MAA4D,iBAA5D;AAeA,eAAc,SAAU,iBAAV,CAA4B,EAA5B,EAOe;MAPa,EAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAOf,EAPe,GAOb,E;MAN3B,EAAA,GAAA,EAAA,CAAA,U;MAAA,UAAU,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAH,GAAQ,E;MACT,WAAW,GAAA,EAAA,CAAA,O;MACT,aAAa,GAAA,EAAA,CAAA,S;MACxB,cAAc,GAAA,EAAA,CAAA,c;MACA,gBAAgB,GAAA,EAAA,CAAA,Y;MAC9B,kBAAkB,GAAA,EAAA,CAAA,kB;;AAElB,MAAM,KAAK,GAAG,WAAW,CAAC;AACxB,IAAA,UAAU,EAAA,UADc;AAExB,IAAA,OAAO,EAAE,WAFe;AAGxB,IAAA,SAAS,EAAE;AAHa,GAAD,CAAzB;;AAKM,MAAA,EAAA,GAAyD,aAAa,CAAC;AAC3E,IAAA,cAAc,EAAA,cAD6D;AAE3E,IAAA,YAAY,EAAE,gBAF6D;AAG3E,IAAA,kBAAkB,EAAA;AAHyD,GAAD,CAAtE;AAAA,MAAE,OAAO,GAAA,EAAA,CAAA,OAAT;AAAA,MAAW,YAAY,GAAA,EAAA,CAAA,YAAvB;AAAA,MAAyB,IAAI,GAAA,EAAA,CAAA,IAA7B;AAAA,MAA+B,aAAa,GAAA,EAAA,CAAA,aAA5C;AAAA,MAA8C,MAAM,GAAA,EAAA,CAAA,MAApD;;AAMN,MAAM,OAAO,GAAG,WAAW,CACzB,UAAC,KAAD,EAAuC;AAC7B,QAAA,OAAO,GAAK,KAAK,CAAC,OAAN,CAAL,OAAP;;AACR,QAAI,OAAJ,EAAa;AACX,MAAA,OAAO,CAAC,KAAD,CAAP;AACD;;AAED,IAAA,MAAM;AACP,GARwB,EASzB;AACA;AACA,GAAC,MAAD,CAXyB,CAA3B;AAcA,MAAM,SAAS,GAAG,WAAW,CAC3B,UAAC,KAAD,EAA0C;AAClC,QAAA,EAAA,GAA4B,KAAK,CAAC,OAAlC;AAAA,QAAE,SAAS,GAAA,EAAA,CAAA,SAAX;AAAA,QAAa,UAAU,GAAA,EAAA,CAAA,UAAvB;;AACN,QAAI,SAAJ,EAAe;AACb,MAAA,SAAS,CAAC,KAAD,CAAT;AACD;;AAED,QAAM,QAAQ,GAAG,UAAU,GAAG,WAAH,GAAiB,YAA5C;AACA,QAAM,OAAO,GAAG,UAAU,GAAG,SAAH,GAAe,WAAzC;;AACA,QAAI,KAAK,CAAC,GAAN,KAAc,QAAd,IAA0B,KAAK,CAAC,GAAN,KAAc,OAA5C,EAAqD;AACnD;AACD,KAVuC,CAYxC;;;AACA,IAAA,KAAK,CAAC,cAAN,GAbwC,CAexC;;AACA,IAAA,KAAK,CAAC,eAAN;AACA,IAAA,aAAa,CAAC,KAAK,CAAC,GAAN,KAAc,QAAd,GAAyB,OAAzB,GAAmC,MAApC,CAAb;AACD,GAnB0B,EAoB3B;AACA;AACA,GAAC,aAAD,CAtB2B,CAA7B;AAyBA,SAAO;AACL,IAAA,OAAO,EAAA,OADF;AAEL,IAAA,YAAY,EAAA,YAFP;AAGL,IAAA,IAAI,EAAA,IAHC;AAIL,IAAA,OAAO,EAAA,OAJF;AAKL,IAAA,SAAS,EAAA;AALJ,GAAP;AAOD","sourceRoot":"","sourcesContent":["import { useCallback } from \"react\";\nimport { useRefCache } from \"@react-md/utils\";\nimport useVisibility from \"./useVisibility\";\nexport default function useItemVisibility(_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.horizontal, horizontal = _c === void 0 ? false : _c, propOnClick = _b.onClick, propOnKeyDown = _b.onKeyDown, defaultVisible = _b.defaultVisible, propDefaultFocus = _b.defaultFocus, onVisibilityChange = _b.onVisibilityChange;\n    var cache = useRefCache({\n        horizontal: horizontal,\n        onClick: propOnClick,\n        onKeyDown: propOnKeyDown,\n    });\n    var _d = useVisibility({\n        defaultVisible: defaultVisible,\n        defaultFocus: propDefaultFocus,\n        onVisibilityChange: onVisibilityChange,\n    }), visible = _d.visible, defaultFocus = _d.defaultFocus, hide = _d.hide, showWithFocus = _d.showWithFocus, toggle = _d.toggle;\n    var onClick = useCallback(function (event) {\n        var onClick = cache.current.onClick;\n        if (onClick) {\n            onClick(event);\n        }\n        toggle();\n    }, \n    // disabled since useRefCache\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [toggle]);\n    var onKeyDown = useCallback(function (event) {\n        var _a = cache.current, onKeyDown = _a.onKeyDown, horizontal = _a.horizontal;\n        if (onKeyDown) {\n            onKeyDown(event);\n        }\n        var firstKey = horizontal ? \"ArrowDown\" : \"ArrowRight\";\n        var lastKey = horizontal ? \"ArrowUp\" : \"ArrowLeft\";\n        if (event.key !== firstKey && event.key !== lastKey) {\n            return;\n        }\n        // don't want to trigger default behavior of screen scrolling\n        event.preventDefault();\n        // don't want parent menus to be effected by this as well.\n        event.stopPropagation();\n        showWithFocus(event.key === firstKey ? \"first\" : \"last\");\n    }, \n    // disabled since useRefCache\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [showWithFocus]);\n    return {\n        visible: visible,\n        defaultFocus: defaultFocus,\n        hide: hide,\n        onClick: onClick,\n        onKeyDown: onKeyDown,\n    };\n}\n//# sourceMappingURL=useItemVisibility.js.map"]},"metadata":{},"sourceType":"module"}